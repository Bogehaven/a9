<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Synthesis of Railway-Signaling Plans using Reachability Games</title><meta name="author" content="Patrick Kasting, Michael R. Hansen, and Steen Vester"/><meta name="keywords" content="-  Theory of computation  -&gt;  Algorithmic game theory; -  Software and its engineering  -&gt;  Functional languages; Domain-specific languages; "/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 17pt; }
 .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s3 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s4 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s5 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; vertical-align: 4pt; }
 .p, p { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; margin:0pt; }
 .s6 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s7 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s8 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s9 { color: black; font-family:Geneva, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 3pt; }
 .s10 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .a, a { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s11 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s12 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s13 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s15 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s16 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s17 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s18 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s19 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s20 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s21 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -2pt; }
 .s22 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s23 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s24 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s25 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s26 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s27 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s28 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s29 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s30 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s31 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s32 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 .s33 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s34 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s35 { color: #2121FF; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s36 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s37 { color: black; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .h2 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s38 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s39 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s40 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s41 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 3pt; }
 .s42 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s43 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s44 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s45 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s46 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -2pt; }
 .s47 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 11pt; }
 .s48 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 3pt; }
 .s49 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s50 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 3pt; }
 .s51 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s52 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s53 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s54 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s55 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s56 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 11pt; }
 .s57 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s58 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 3.5pt; }
 .s59 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s60 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s61 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 3.5pt; }
 .s62 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s63 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 7pt; }
 .s64 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 3pt; }
 .s65 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 8pt; }
 .s66 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 8pt; }
 .s67 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 3pt; }
 .s68 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s69 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s70 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; }
 .s71 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s72 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s73 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s74 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s75 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s76 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s77 { color: #007F00; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s79 { color: #7F0000; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: "• "; color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 1; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 #l3 {padding-left: 0pt; }
 #l3> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l4 {padding-left: 0pt;counter-reset: d2 1; }
 #l4> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l4> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l5 {padding-left: 0pt;counter-reset: d2 1; }
 #l5> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l5> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l6 {padding-left: 0pt;counter-reset: d2 1; }
 #l6> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l6> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l7 {padding-left: 0pt; }
 #l7> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l8 {padding-left: 0pt; }
 #l8> li>*:first-child:before {content: "* "; color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l9 {padding-left: 0pt; }
 #l9> li>*:first-child:before {content: "* "; color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l10 {padding-left: 0pt;counter-reset: d2 1; }
 #l10> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l10> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l11 {padding-left: 0pt;counter-reset: d2 1; }
 #l11> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l11> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l12 {padding-left: 0pt; }
 #l12> li>*:first-child:before {content: "- "; color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l13 {padding-left: 0pt;counter-reset: d2 1; }
 #l13> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l13> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 li {display: block; }
 #l14 {padding-left: 0pt;counter-reset: h1 1; }
 #l14> li>*:first-child:before {counter-increment: h1; content: "("counter(h1, decimal)") "; color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l14> li:first-child>*:first-child:before {counter-increment: h1 0;  }
 li {display: block; }
 #l15 {padding-left: 0pt;counter-reset: i1 1; }
 #l15> li>*:first-child:before {counter-increment: i1; content: counter(i1, upper-latin)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l15> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 li {display: block; }
 #l16 {padding-left: 0pt;counter-reset: j1 1; }
 #l16> li>*:first-child:before {counter-increment: j1; content: "["counter(j1, decimal)"] "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 #l16> li:first-child>*:first-child:before {counter-increment: j1 0;  }
 table, tbody {vertical-align: top; overflow: visible; }
</style></head><body><h1 style="padding-top: 7pt;padding-left: 20pt;text-indent: 0pt;text-align: left;">Synthesis of Railway-Signaling Plans using Reachability Games</h1><p class="s1" style="padding-top: 11pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Patrick Kasting</p><p class="s2" style="padding-left: 31pt;text-indent: 39pt;text-align: left;">DTU Compute Technical University of Denmark</p><p style="padding-left: 50pt;text-indent: -9pt;text-align: left;"><a href="mailto:s124313@student.dtu.dk" class="s3" target="_blank">DK-2800, Lyngby, Denmark s124313@student.dtu.dk</a></p><p class="s4" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a name="bookmark0">ABSTRACT</a></p><p class="s1" style="padding-top: 11pt;padding-left: 38pt;text-indent: 0pt;text-align: left;">Michael R. Hansen</p><p class="s2" style="padding-left: 14pt;text-indent: 39pt;text-align: left;">DTU Compute Technical University of Denmark</p><p style="padding-left: 58pt;text-indent: -33pt;text-align: left;"><a href="mailto:mire@dtu.dk" class="s3" target="_blank">DK-2800, Lyngby, Denmark mire@dtu.dk</a></p><p class="s4" style="padding-top: 4pt;padding-left: 98pt;text-indent: 0pt;text-align: left;">KEYWORDS</p><p class="s1" style="padding-top: 6pt;padding-left: 134pt;text-indent: 0pt;text-align: center;">Steen Vester<span class="s5">∗</span></p><p class="s2" style="padding-left: 133pt;text-indent: 0pt;text-align: center;">Flow Robotics</p><p style="padding-left: 133pt;text-indent: 0pt;text-align: center;"><a href="mailto:sv@flow-robotics.com" class="s3" target="_blank">DK-2300, Copenhagen, Denmark sv@flow-robotics.com</a></p><p style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In this work, we show the feasibility of using functional pro- gramming (more specifically F<span class="s6">#</span>) in connection with game- based methods for synthesis of correct-by-construction con- trollers (also called <span class="s7">signaling plans</span>) for railway networks. This is a massively resource-demanding application.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">A model for railway networks comprising trains, signals, linear sections, and points is established together with a domain-specific language capturing the important concepts in the model. A translation from railway network models to two-player reachability games is provided. In these games, the existential player (the control system) controls signals and points and the universal player (the antagonistic environment) controls movement of trains. A winning strategy for the existential player provides a signaling plan that will safely guide trains through the network.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The concepts from the railway network model and the two-</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: right;">player reachability game are captured, in a natural manner, by type declarations in F<span class="s6">#</span>. Furthermore, the F<span class="s6"># </span>transla- tion functions are formulated in a manner that is close to the mathematical formulations. This increases confidence in the correctness of the implementation and it decreases the development time. Imperative features of F<span class="s6"># </span>proved useful in two places: Hash tables and arrays were used in the repre- sentations of the railway network model and the reachability game. This allowed for more compact representations and a more efficient game solver (providing the winning strategy).</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: right;">Experiments show that we are able to synthesize signaling</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: justify;">plans for real railway networks of substantial size.</p><p class="s4" style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;line-height: 12pt;text-align: justify;">CCS CONCEPTS</p><ul id="l1"><li data-list-text="•"><p class="s8" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Theory of computation <span class="p">→ </span>Algorithmic game theory<span class="p">; • </span>Soft- ware and its engineering <span class="p">→ </span>Functional languages<span class="p">; Domain- specific languages;</span></p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="64" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_001.png"/></span></p><p class="s9" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;">∗<span class="s10">Part of this work was done while Steen Vester was at Technical University of Denmark.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_002.png"/></span></p><p style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: justify;"><a href="mailto:permissions@acm.org" class="a" target="_blank">Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee. Request permissions from </a><a href="mailto:ermissions@acm.org" class="a" target="_blank">p</a><a href="mailto:ermissions@acm.org" target="_blank">ermissions@acm.org.</a></p><p class="s11" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;">IFL 2016, Leuven, Belgium</p><p class="s12" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: justify;">© <span class="s10">2016 ACM. 978-1-4503-4767-9/16/08. . . $15.00</span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: justify;"><a href="http://dx.doi.org/10.1145/3064899.3064908" class="a" target="_blank">DOI: </a><a href="http://dx.doi.org/10.1145/3064899.3064908" target="_blank">http://dx.doi.org/10.1145/3064899.3064908</a></p><p style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Domain-specific language, functional programming, railway networks, reachability games, signaling plans, synthesis</p><p class="s13" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;text-align: justify;">ACM Reference format:</p><p class="s13" style="padding-left: 14pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Patrick Kasting, Michael R. Hansen, and Steen Vester. 2016. Syn- thesis of Railway-Signaling Plans using Reachability Games. In <a href="#bookmark54" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt;">Proceedings of IFL 2016, Leuven, Belgium, August 31-September 02, 2016, </a>13 pages.</p><p style="padding-left: 14pt;text-indent: 0pt;text-align: justify;"><a href="http://dx.doi.org/10.1145/3064899.3064908" class="s15" target="_blank">DOI: http://dx.doi.org/10.1145/3064899.3064908</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l2"><li data-list-text="1"><p class="s4" style="padding-top: 9pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark1">INTRODUCTION</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Railway network systems are often mentioned as examples of safety-critical systems, for obvious reasons, and formal methods have a significant role in achieving confidence in the correctness of such systems. Predominant approaches to achieving this are based on verification techniques, in particular model checking, but these techniques are geared towards finding bugs in designs – they are of limited use in the design process. We investigate the feasibility of using game-based methods for <span class="s7">synthesis </span><a href="#bookmark68" class="s16">of correct-by-construction controllers </a><a href="#bookmark75" class="s16">[14, </a><a href="#bookmark76" class="s16">21, 22].</a></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The challenge of verification and synthesis techniques for</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark71" class="s16">railway-network problems is state-space explosion: The num- ber of positions of trains in a network grows exponentially with the number of trains, the number of combinations of signals in a network grows exponentially with the number of signals, and so on. The goal of this work, which is based on </a>[17], is to show that</p><ul id="l3"><li data-list-text="•"><p style="padding-top: 3pt;padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: justify;">game-based techniques can be used to synthesize signaling plans for real railway networks of a sub- stantial size (comparable to the size of the problems that can be handled by verification techniques), and that</p></li><li data-list-text="•"><p style="padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: justify;">functional programming provides an efficient develop- ment and implementation platform for a tool synthe- sizing signaling plans from railway network models.</p></li></ul><ol id="l4"><li data-list-text="1.1"><p class="s4" style="padding-top: 9pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark2">The Problem</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">A train’s movement in a railway network must be guided by points and signals, such that it reaches its destination without risk of derailment or collision. The points must direct the trains along their respective routes and the signals must halt certain trains in order to give way to others.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark6" class="s16">A simple example is found in Figure </a>1. It contains four <span class="s7">sections s10 , s11 , s12 </span>and <span class="s7">s20 </span>, where <span class="s7">s10 , s11 </span>and <span class="s7">s20 </span>are linear sections and <span class="s7">s11 </span>is a <span class="s7">point</span>. The point can switch</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-left: 14pt;text-indent: 0pt;text-align: right;"><a name="bookmark6">ss1100</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">sss1111</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">ss1122</p><p class="s4" style="padding-top: 11pt;padding-left: 55pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark4">1.3 The functional approach</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="289" height="125" alt="image" src="a9-kasting%20%281%29a_files/Image_003.png"/></span></p><p class="s18" style="text-indent: 0pt;line-height: 9pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s17" style="text-indent: 0pt;line-height: 9pt;text-align: left;">ss2200</p><p style="text-indent: 0pt;text-align: left;"/><p class="s18" style="text-indent: 0pt;line-height: 9pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;line-height: 71%;text-align: justify;">A functional programming language with a strong type sys- tem, in this case F<span class="s6"># </span><a href="#bookmark69" class="s16">[</a><a href="#bookmark77" class="s16">15, </a><a href="#bookmark71" class="s16">23], was used as implementation platform. The concepts from a mathematical model of rail- way networks [</a>17] are captured in a natural manner by type declarations and so are the concepts from reachability games. The F<span class="s6"># </span>translation functions from network models to games are formulated in a manner that is close to the mathematical formulation. This increases confidence in the correctness of</p><p style="padding-left: 55pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">the implementation and it decreases the development time.</p><p class="s8" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a href="#bookmark78" class="s19">Figure 1: A railway network (inspired by </a>[24]) containing four sections, two signals, two trains, and the point <i>s11</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: justify;">between connecting the sections <span class="s7">s20 </span>and <span class="s7">s12 </span>or the sections</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">s10 <span class="p">and </span>s12 <span class="p">. Sections allow traffic in both directions.</span></p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The train <span class="s7">t1 </span>occupies section <span class="s7">s20 </span>and the train <span class="s7">t2 </span>occupies the section <span class="s7">s12 </span>. If the signal along section <span class="s7">s20 </span>is closed, it prevents <span class="s7">t1 </span>from entering <span class="s7">s11 </span>. The train <span class="s7">t2 </span>is free to enter <span class="s7">s11 </span>and continue to <span class="s7">s10 </span>or <span class="s7">s20 </span>depending on the state of <span class="s7">s11 </span>.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">Based on the current positions of the trains, a control system must select the right configuration of points and signals. For this, the system needs a mapping from train positions to configurations. Such a mapping is also called a <span class="s7">signaling plan </span>and it can be considered an algorithm for controlling the traffic in a network. A signaling plan is <span class="s7">correct</span>, if it ensures that the trains reach their destinations without crashing. We consider the following problem:</p><p class="s7" style="padding-top: 4pt;padding-left: 21pt;text-indent: 0pt;text-align: justify;">Synthesis of correct signaling plans for railway networks</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="1.2"><p class="s4" style="padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark3">Game-Based Synthesis</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The synthesis problem is solved using game-based methods: In a reachability game, two players: Adam (the universal player) and Eve (the existential player), take turns moving a token along the edges of a graph. Eve wins the game, if the token reaches a designated set of vertices. Otherwise, Adam wins. We model a railway network as such a game.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The states of the network act as the vertices of the game and we make changes to the current state by moving the game token. Eve takes the role of the control system and is in charge of updating points and signals. Adam moves the trains, obeying the signals. Eve wins if the trains reach their destinations without crashing and Adam wins if he can move a train away from its route or crash it. If Eve can force Adam to lose, even if Adam acts as a perfect adversary, then we can get the trains correctly through the network. A correct signaling plan is obtained from Eve’s winning strategy.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Previously, game-based techniques have been used for syn-</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">thesis of control algorithms for <span class="s7">concrete examples </span><a href="#bookmark63" class="s16">of railway- networks (e.g. [</a>9]). However, to the best of the authors’ knowl- edge, at the time of writing, there have been no game-based attempts at solving the synthesis problem for <span class="s7">arbitrary </span><a href="#bookmark57" class="s16">rail- way networks. For other examples of game-based synthesis, see </a><a href="#bookmark58" class="s16">[3, </a><a href="#bookmark72" class="s16">4, 18].</a></p><p style="padding-top: 5pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Imperative features of F<span class="s6"># </span>proved useful in two places: Hash tables and arrays were used in the representations of the rail- way network model and the reachability game. This allowed for more compact representations and a more efficient game solver (providing the winning strategy).</p><p style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark78" class="s16">The most interesting experiment conducted so far is that a correct signaling plan for (approximately one fourth of) Florence Station with four trains is generated in 8.1 seconds. The considered part of Florence Station has 69 linear sections, 23 points, and 46 signals. This is a size approaching the limit of what state-of-the-art verification approaches, e.g. [</a>24], can handle.</p><p class="s4" style="padding-top: 7pt;padding-left: 15pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark5">1.4 Background</a></p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In Europe, the predominant standard for railway signaling is the <span class="s7">European Rail Traffic Management System </span><a href="#bookmark78" class="s16">(ERTMS), see for example [</a><a href="#bookmark64" class="s16">24]. ERTMS comprises a standard ETCS for in-cab signaling and automatic train protection systems [</a><a href="#bookmark55" class="s16">10]. ETCS has three application levels ranging from Level 1 to Level 3, where Level 3 is the most autonomous. In 2009, the Danish parliament decided to replace the entire railway- signaling system with an implementation of ERMTS with ETCS Level 2 [1].</a></p><p style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">In ETCS, signaling is controlled according to <span class="s7">interlocking</span></p><p class="s7" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">tables<span class="p">. An interlocking table contains one entry for each </span>el- ementary route <span class="p">in the network. An elementary route starts at a signal, ends at another signal, and there is no signal between the two. </span>Compound routes <a href="#bookmark78" class="s16">are formed by concate- nating elementary routes. Signaling works according to the principle that a route is locked exclusively for one train at a time [24].</a></p><p style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;">This static generation of routes has the advantage that a train entering a route can drive to the end of that route without stopping, thereby saving time and energy – frequent stop-and-go is energy consuming. However, the statically generated routes are inflexible and of no use if, for example, a malfunctioning train blocks a track and alternative routes are needed.</p><p style="padding-left: 14pt;text-indent: 11pt;line-height: 71%;text-align: justify;">Correct signalling plans provide a controlling mechanism that can be used at run-time: In any traffic situation the controller makes a safe decision that brings the trains closer to their destinations. But signaling plans do not guarantee “good” routes: In the current form, there is no attempt at avoiding stop-and-go situations.</p><p style="padding-top: 4pt;padding-left: 15pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><span class="s20">PGSolver. </span><a href="#bookmark66" class="s16">The PGSolver framework [</a>12] provides an effi- cient platform for solving <span class="s7">parity games</span>, that is, a kind of</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">two-player games of perfect information and infinite duration. PGSolver is implemented in the functional programming language OCaml and our solver for reachability games is implemented in F<span class="s6">#</span>, which is closely related to OCaml. With respect to choices of data structures, our implementation is inspired by PGSolver.</p></li></ol></li><li data-list-text="2"><p class="s4" style="padding-top: 9pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark7">GAMES FOR RAILWAY NETWORKS</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In a <span class="s7">turn-based two-player game</span>, or from now on a <span class="s7">game</span>, the players Eve and Adam move a shared token along the edges of a shared <span class="s7">game graph</span>. The vertices of the game graph are partitioned into <span class="s7">V</span><span class="s21">E </span>and <span class="s7">V</span><span class="s21">A</span>. Eve chooses the next move from vertices in <span class="s7">V</span><span class="s21">E </span>and Adam chooses the next move from vertices in <span class="s7">V</span><span class="s21">A</span>.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">Given a <span class="s7">winning condition </span>and an initial vertex, we want to know whether Eve can ensure a win, no matter how Adam plays. If this is the case, we are also interested in a <span class="s7">winning strategy</span>, which specifies a winning move from each vertex in <span class="s7">V</span><span class="s21">E </span><a href="#bookmark56" class="s16">. We now provide formal definitions of the above concepts. For a more thorough introduction, see e.g. </a><a href="#bookmark73" class="s16">[2, 19].</a></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="p">A </span>game graph G <span class="p">is a tuple </span><span class="s22">(</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">)</span><span class="p">, where </span>E <span class="s23">⊆ </span><span class="s22">(</span>V<span class="s21">E</span><span class="s23">∪</span>V<span class="s21">A </span><span class="s22">)</span><span class="s23">×</span><span class="s22">(</span>V<span class="s21">E</span><span class="s23">∪</span>V<span class="s21">A </span><span class="s22">) </span><span class="p">is the set of edges and </span>c <span class="p">: </span><span class="s22">(</span>V<span class="s21">E</span><span class="s23">∪</span>V<span class="s21">A </span><span class="s22">) </span><span class="s23">→ </span>C <span class="p">is a function, which colors every vertex with a color from the set </span>C<span class="p">. We require that </span>V<span class="s21">E </span><span class="s23">∩ </span>V<span class="s21">A </span><span class="s22">= </span><span class="s23">∅ </span><span class="p">and we let </span>V <span class="s22">= </span>V<span class="s21">E </span><span class="s23">∪ </span>V<span class="s21">A </span><span class="p">denote the set of all vertices. Also, for every </span>v <span class="s23">∈ </span>V <span class="p">, we define </span>vE <span class="s22">= </span><span class="s23">{</span>v<span class="s24">t </span><span class="s25">| </span><span class="s22">(</span>v, v<span class="s24">t </span><span class="s22">) </span><span class="s23">∈ </span>E<span class="s23">}</span><span class="p">, which is the set of successors to </span>v<span class="p">. We assume that </span>vE <span class="s22">= </span><span class="s23">∅ </span><span class="p">for all </span>v <span class="s23">∈ </span>V <span class="p">.</span></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="p">A </span>play <span class="p">in </span>G <span class="p">is an infinite sequence </span>α <span class="s22">= </span>v<span class="s26">0</span>v<span class="s26">1</span>v<span class="s26">2 </span>. . . <span class="p">of vertices such that </span><span class="s22">(</span>v<span class="s27">i</span>, v<span class="s27">i</span><span class="s28">+</span><span class="s26">1</span><span class="s22">) </span><span class="s23">∈ </span>E <span class="p">for all </span>i <span class="s23">∈ </span><span class="s22">N</span><span class="p">. Let </span>c<span class="s22">(</span>α<span class="s22">) </span><span class="p">denote the corresponding sequence </span>c<span class="s22">(</span>v<span class="s26">0</span><span class="s22">)</span>c<span class="s22">(</span>v<span class="s26">1</span><span class="s22">)</span>c<span class="s22">(</span>v<span class="s26">2</span><span class="s22">) </span>. . . <span class="p">of colors.</span></p><p class="s7" style="padding-left: 13pt;text-indent: 11pt;line-height: 71%;text-align: justify;"><span class="p">A </span>game <span class="p">is a pair </span><span class="s22">(</span>G, Win<span class="s22">)</span><span class="p">, where </span>G <span class="p">is a game graph and </span>Win <span class="s23">⊆ </span>C<span class="s29">ω </span><span class="p">is a </span>winning condition<span class="p">. Eve wins a play </span>α<span class="p">, if </span>c<span class="s22">(</span>α<span class="s22">) </span><span class="s23">∈ </span>Win<span class="p">. Otherwise, Adam wins.</span></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="p">A </span>strategy <span class="p">for Eve is a function </span>σ <span class="p">: </span>V <span class="s24">∗</span>V<span class="s21">E </span><span class="s23">→ </span>V <span class="p">such that </span>σ<span class="s22">(</span>xv<span class="s22">) = </span>v<span class="s24">t </span><span class="p">implies </span><span class="s22">(</span>v, v<span class="s24">t </span><span class="s22">) </span><span class="s23">∈ </span>E<span class="p">. A play </span>v<span class="s26">0</span>v<span class="s26">1</span>v<span class="s26">2 </span>. . . <span class="p">is </span>played according to <span class="p">the strategy </span>σ<span class="p">, if</span></p><p class="s7" style="padding-top: 1pt;padding-left: 137pt;text-indent: 0pt;text-align: center;"><span class="s23">∀</span>i <span class="s23">∈ </span><span class="s22">N </span><span class="p">: </span>v<span class="s27">i </span><span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">⇒ </span>σ<span class="s22">(</span>v<span class="s26">0</span>v<span class="s26">1 </span>. . . v<span class="s27">i </span><span class="s22">) = </span>v<span class="s27">i</span><span class="s28">+</span><span class="s26">1</span>.</p><p class="s7" style="padding-top: 5pt;padding-left: 13pt;text-indent: 11pt;line-height: 71%;text-align: justify;"><span class="p">Given an initial vertex </span>v<span class="s30">0</span><span class="s8"> </span><span class="p">and a strategy </span>σ <span class="p">for Eve, let </span>Out <span class="s22">(</span>σ, v<span class="s30">0</span><span class="s22">) </span><span class="p">denote all plays from </span>v<span class="s30">0</span><span class="s8"> </span><span class="p">played according to </span>σ<span class="p">. We say that </span>σ <span class="p">is a </span>winning strategy <span class="p">from </span>v<span class="s30">0</span><span class="p">, if </span>c<span class="s22">(</span>α<span class="s22">) </span><span class="s23">∈ </span>Win <span class="p">for all </span>α <span class="s23">∈ </span>Out <span class="s22">(</span>σ, v<span class="s30">0</span><span class="s22">)</span><span class="p">.</span></p><ol id="l5"><li data-list-text="2.1"><p class="s4" style="padding-top: 9pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark8">Reachability games</a></p><p class="s7" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 70%;text-align: justify;"><span class="p">Suppose a designated target color </span>c<span class="s24">t </span><span class="s25">∈ </span>C <span class="p">is given. A game with a winning condition of the form</span></p><p class="s7" style="padding-top: 3pt;padding-left: 137pt;text-indent: 0pt;text-align: center;"><span class="s23">{</span>c<span class="s26">0</span>c<span class="s26">1 </span>. . . <span class="s23">| ∃</span>i <span class="s23">∈ </span><span class="s22">N </span><span class="p">: </span>c<span class="s27">i </span><span class="s22">= </span>c<span class="s24">t</span><span class="s25">}</span></p><p style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">is called a <span class="s7">reachability game </span><a href="#bookmark56" class="s16">[</a>2]. In such a game, Eve wins a play, if the token eventually reaches a vertex colored <span class="s7">c</span><span class="s24">t</span>. Vertices having color <span class="s7">c</span><span class="s24">t </span>are called <span class="s7">goal </span><a href="#bookmark56" class="s16">vertices. For this type of games, we have [2]:</a></p><p class="s7" style="padding-top: 7pt;padding-left: 14pt;text-indent: 10pt;line-height: 92%;text-align: justify;"><a name="bookmark11"><span class="s8">Theorem 2.1. </span></a>Let <span class="s23">G </span><span class="s22">= ((</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">)</span>, Win<span class="s22">) </span>be a reach- ability game. Then, there exists a partition <span class="s23">{</span>Win<span class="s21">E</span>, Win<span class="s21">A</span><span class="s23">} </span>of V , such that Eve has a winning strategy from any initial</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="321" height="406" alt="image" src="a9-kasting%20%281%29a_files/Image_004.png"/></span></p><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 10pt;line-height: 92%;text-align: left;">v1 initial</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v8</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v7</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 11pt;padding-left: 13pt;text-indent: 1pt;line-height: 106%;text-align: justify;"><a href="#bookmark6" class="s19" name="bookmark12">Figure 2: A subset of the game graph induced by the rail- way network shown in Figure </a>1. The green edges (<i>v1</i>,<i>v3</i>) and (<i>v5</i>,<i>v7</i>) indicate Eve’s winning moves.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 13pt;text-indent: 0pt;line-height: 92%;text-align: justify;">vertex v <span class="s23">∈ </span>Win<span class="s21">E </span>and Adam has a winning strategy from any initial vertex v <span class="s23">∈ </span>Win<span class="s21">A</span>.</p><p style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In essence, this theorem states that if both players are perfect, then the winner is determined before the first move. We use the term <span class="s7">winning areas </span>to describe <span class="s7">Win</span><span class="s21">E </span>and <span class="s7">Win</span><span class="s21">A</span>.</p><p style="padding-left: 13pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In addition, it can be shown that reachability games are <span class="s7">memoryless determined </span><a href="#bookmark56" class="s16">[</a>2]. This means that in order to ensure a win, the winning player only needs to consider the current vertex when deciding on his next move.</p></li><li data-list-text="2.2"><p class="s4" style="padding-top: 7pt;padding-left: 38pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark9">A Game for a Railway Network</a></p><p style="padding-top: 3pt;padding-left: 13pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark6" class="s16">A subset of the game graph for the railway network in Figure </a><a href="#bookmark12" class="s16">1 is shown in Figure </a>2. Recall that Eve changes the configura- tion of signals and points and Adam moves the trains. That is, Eve controls the vertices with dashed edges and rounded corners and Adam controls the vertices with solid edges and sharp corners. In order to cause progression, we force Adam to move a train, if these are not all blocked by closed signals. The turn alternates between the two players.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The token starts at <span class="s7">v1 </span>, where the trains are at their initial</p><p style="padding-top: 1pt;padding-left: 13pt;text-indent: 0pt;line-height: 71%;text-align: justify;">positions and the points and signals are in default states. The vertex <span class="s7">v8 </span>is a goal vertex, as we assume that <span class="s7">t1 </span>and <span class="s7">t2 </span>have sections <span class="s7">s12 </span>and <span class="s7">s10 </span>as respective destinations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 7pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In <span class="s7">v1</span>, Eve has the turn and she must move the token to one of the vertices <span class="s7">v2 </span>, <span class="s7">v3 </span>, <span class="s7">v4 </span><a href="#bookmark12" class="s16">, and some others not shown in Figure </a>2. From <span class="s7">v2 </span>, Adam can derail <span class="s7">t1 </span>by moving the train onto the point <span class="s7">s11 </span>, which connects <span class="s7">s10 </span>and <span class="s7">s12 </span>and not <span class="s7">s20 </span>and <span class="s7">s12 </span>. From <span class="s7">v4 </span>, Adam can collide the trains, because <span class="s7">s11 </span>connects <span class="s7">s20 </span>and <span class="s7">s12 </span>. Clearly, Eve wants to avoid these two vertices.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">In <span class="s7">v3 </span>, <span class="s7">t1 </span>is blocked by a closed signal, so Eve does not risk derailment. The point <span class="s7">s11 </span>connects <span class="s7">s10 </span>and <span class="s7">s12 </span>, so she does not risk collision either. In addition, from <span class="s7">v3 </span>, Adam is forced to move <span class="s7">t2 </span>to <span class="s7">s10 </span>, which is the destination of <span class="s7">t2 </span>. Hence, Eve moves from <span class="s7">v1 </span>to <span class="s7">v3 </span>and Adam moves from <span class="s7">v3 </span>to <span class="s7">v5 </span>.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In <span class="s7">v5 </span>, Eve has the turn and she can choose between <span class="s7">v6 </span>, <span class="s7">v7 </span><a href="#bookmark12" class="s16">, and other vertices not shown in Figure 2.</a> From <span class="s7">v6 </span>, Adam can derail <span class="s7">t2 </span>, because the signal along <span class="s7">s10 </span>is open. Therefore, Eve moves to <span class="s7">v7 </span>.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In <span class="s7">v7 </span>, the point <span class="s7">s11 </span>connects <span class="s7">s20 </span>and <span class="s7">s12 </span>and the train <span class="s7">t1 </span>is allowed to move, as the signal along <span class="s7">s20 </span>is open. Because Adam is forced to move a train if he can, he must move <span class="s7">t1 </span>to <span class="s7">s12 </span>by moving the game token to <span class="s7">v8 </span>. This vertex is a goal vertex, so we terminate the game with Eve as the winner. Furthermore, Adam never had a chance of winning, so Eve has a winning strategy by making the moves just described. Notice that these moves also describe a correct signaling plan for the network.</p></li><li data-list-text="2.3"><p class="s4" style="padding-top: 6pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark10">Solving Reachability Games</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark11" class="s16">The proof of </a><a href="#bookmark56" class="s16">Theorem 2.1 presented in [</a><a href="#bookmark13" class="s16">2] is interesting, be- cause it reveals a way to compute an optimal strategy for Eve. The corresponding algorithm is shown in </a>Algorithm 1. This algorithm computes Eve’s winning area based on a breadth- first search: Starting from the goal vertices, it iteratively expands the winning area by exploring the reverse game graph. When the algorithm discovers an Eve vertex, it is included in the winning area, as Eve can move to the current winning area in one move. When the algorithm discovers an Adam vertex where every successor has been explored, it is also included in the winning area, as Adam has no choice but to move to the current winning area. In order to achieve linear time complexity, we keep track of the number of unexplored successors to each vertex.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The optimal strategy for Eve is to move to a vertex ex-</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">plored earlier than the current one whenever possible. This strategy is winning from every vertex in her winning area.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark14" class="s16">We use the types shown in Figure </a><a href="#bookmark13" class="s16">3 to model game graphs and the concepts from Algorithm 1. With these types, the pseudocode of Algorithm </a>1 translates straightforwardly into an F<span class="s6"># </span>function <span class="s33">solveReachability </span>with the following type:</p><p class="s33" style="padding-top: 4pt;padding-left: 29pt;text-indent: -4pt;line-height: 107%;text-align: left;">GameGraph&lt;’misc,’color&gt; -&gt; ’color -&gt;</p><p class="s33" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Winners&lt;’misc,’color&gt; * Strategy&lt;’misc,’color&gt;</p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark51" class="s16">Here, the second parameter specifies the target color of the game. The function definition is in Appendix A.</a></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="p">We represent a game graph </span>G <span class="s22">= (</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">) </span><span class="p">using adja- cency lists of the reverse graph and we augment each vertex with its number of successors: An entry in the dictionary for</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="319" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_005.png"/></span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a name="bookmark13"><span class="s8">Algorithm 1 </span></a>Algorithm for solving a reachability game <span class="s23">G </span>with finite game graph <span class="s22">(</span><span class="s7">V</span><span class="s21">E</span><span class="s7">, V</span><span class="s21">A</span><span class="s7">, E, c</span><span class="s22">) </span>and target color <span class="s7">c</span><span class="s24">t</span>. The winning areas of <span class="s23">G </span>can be obtained by scanning the output <span class="s7">win </span>and an optimal strategy for Eve is given by the output <span class="s7">strategy</span><a href="#bookmark56" class="s16">. This algorithm is inspired by [2].</a></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_006.png"/></span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><span class="s10">1: </span><span class="s34">function SolveReachability</span><span class="p">(</span><span class="s22">(</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">)</span>, c<span class="s24">t</span><span class="p">)</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s10">2:   </span><span class="s34">for all </span>v <span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">∪ </span>V<span class="s21">A </span><span class="s8">do</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">3:    </span>win<span class="p">[</span>v<span class="p">] </span><span class="s23">← </span><span class="s8">Adam</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">4:    </span>P <span class="p">[</span>v<span class="p">] </span><span class="s23">← ∅</span></p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">5:    </span><span class="s7">n</span>[<span class="s7">v</span>] <span class="s23">← </span>0</p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">6:    </span>strategy<span class="p">[</span>v<span class="p">] </span><span class="s23">← ⊥</span></p><p class="s22" style="padding-left: 19pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s10">7:   </span><span class="s34">for all </span>(<span class="s7">u, v</span>) <span class="s23">∈ </span><span class="s7">E </span><span class="s8">do</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s10">8:    </span>P <span class="p">[</span>v<span class="p">] </span><span class="s23">← </span>P <span class="p">[</span>v<span class="p">] </span><span class="s23">∪ {</span>u<span class="s23">}</span></p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">9:    </span><span class="s7">n</span>[<span class="s7">u</span>] <span class="s23">← </span><span class="s7">n</span>[<span class="s7">u</span>] <span class="s22">+ </span>1</p><p class="s10" style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10:  <span class="s7">Q </span><span class="s23">← ∅</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s10">11:   </span><span class="s34">for all </span>v <span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">∪ </span>V<span class="s21">A </span><span class="p">such that </span>c<span class="s22">(</span>v<span class="s22">) = </span>c<span class="s24">t </span><span class="s8">do</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">12:    </span>win<span class="p">[</span>v<span class="p">] </span><span class="s23">← </span><span class="s8">Eve</span></p><p style="padding-left: 15pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">13:    </span><span class="s34">Enqueue</span>(<span class="s7">Q, v</span>)</p><p class="s10" style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">14:  <span class="s34">while </span><span class="s7">Q </span><span class="s22">= </span><span class="s23">∅ </span><span class="s8">do</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s10">15:    </span>v <span class="s23">← </span><span class="s8">Dequeue</span><span class="p">(</span>Q<span class="p">)</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">16:    </span><span class="s34">for all </span>p <span class="s23">∈ </span>P <span class="p">[</span>v<span class="p">] </span><span class="s8">do</span></p><p style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">17:     </span><span class="s7">n</span>[<span class="s7">p</span>] <span class="s23">← </span><span class="s7">n</span>[<span class="s7">p</span>] <span class="s23">− </span>1</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">18:      </span><span class="s34">if </span>win<span class="p">[</span>p<span class="p">] </span><span class="s22">= </span><span class="s8">Adam </span><span class="s23">∧ </span><span class="s22">(</span>p <span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">∨ </span>n<span class="p">[</span>p<span class="p">] </span><span class="s22">= </span><span class="p">0</span><span class="s22">) </span><span class="s8">then</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">19:        </span>win<span class="p">[</span>p<span class="p">] </span><span class="s23">← </span><span class="s8">Eve</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">20:       </span>strategy<span class="p">[</span>p<span class="p">] </span><span class="s23">← </span>v</p><p style="padding-left: 15pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">21:        </span><span class="s34">Enqueue</span>(<span class="s7">Q, p</span>)</p><p class="s22" style="padding-bottom: 3pt;padding-left: 15pt;text-indent: 0pt;text-align: left;"><span class="s10">22:  </span><span class="s34">return </span>(<span class="s7">win, strategy</span>)</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_007.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s36" style="padding-left: 14pt;text-indent: 0pt;line-height: 93%;text-align: left;"><a name="bookmark14"><span style=" color: #2121FF;">type </span></a>Player = Adam | Eve <span style=" color: #2121FF;">type </span>Vertex&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = </span>&#39;<span class="s36">misc * </span>&#39;<span class="s36">color * Player</span></p><p class="s36" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span style=" color: #2121FF;">type </span>GameGraph&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = Dictionary&lt;Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt;,</span></p><p class="s36" style="padding-left: 14pt;text-indent: 63pt;line-height: 93%;text-align: left;">int * List&lt;Vertex&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;&gt;&gt; <span style=" color: #2121FF;">type </span>Winners&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = Dictionary&lt;Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt;, Player&gt;</span></p><p class="s36" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span style=" color: #2121FF;">type </span>Strategy&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = seq&lt;Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt; * Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt;&gt;</span></p><p class="s8" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;text-align: justify;">Figure 3: Representations of game graphs, winning areas, and strategies. The <span class="h2">int </span>component of <span class="h2">GameGraph </span>is used to store the number of successors to a vertex. The types <span class="h2">List </span>and <span class="h2">Dictionary </span><a href="#bookmark60" class="s19">are from the standard library of the Common Language Infrastructure </a><a href="#bookmark62" class="s19">[6, </a>8] and they implement dynamic arrays and hash tables.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><span class="p">a given vertex </span>v <span class="p">is a pair </span><span class="s22">(</span>k, <span class="p">[</span>v<span class="s30">1</span><span class="p">; </span>. . . <span class="p">; </span>v<span class="s27">n</span><span class="p">]</span><span class="s22">)</span><span class="p">, where </span>k <span class="p">is the num- ber of unexplored successors to </span>v <span class="p">in </span>G <span class="p">and where </span><span class="s22">(</span>v<span class="s27">i</span>, v<span class="s22">) </span><span class="s23">∈ </span>E <span class="p">for 1 </span><span class="s23">≤ </span>i <span class="s23">≤ </span>n<span class="p">. This representation is the basis of an efficient game-solving algorithm that is linear in both the number of vertices and the number edges.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a name="bookmark15">type </a><span style=" color: #000;">Label = string</span></p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">Linear = Linear </span>of <span style=" color: #000;">Label</span></p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 93%;text-align: left;">type <span style=" color: #000;">LinearExtended = RealLinear </span>of <span style=" color: #000;">Linear | Derail </span>type <span style=" color: #000;">Point = Point </span>of <span style=" color: #000;">Label</span></p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">type <span style=" color: #000;">LinearPort = Down </span>of <span style=" color: #000;">Linear | Up </span>of <span style=" color: #000;">Linear </span>type <span style=" color: #000;">PointPort = | Stem </span>of <span style=" color: #000;">Point</span></p><p class="s36" style="padding-left: 86pt;text-indent: 0pt;line-height: 9pt;text-align: left;">| Plus <span style=" color: #2121FF;">of </span>Point</p><p class="s36" style="padding-left: 86pt;text-indent: 0pt;line-height: 9pt;text-align: left;">| Minus <span style=" color: #2121FF;">of </span>Point</p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">PointPortExtended = | RealPointPort </span>of <span style=" color: #000;">PointPort</span></p><p class="s36" style="padding-left: 14pt;text-indent: 105pt;text-align: left;">| PointPortNull <span style=" color: #2121FF;">type </span>Port = | LinearPort <span style=" color: #2121FF;">of </span>LinearPort</p><p class="s36" style="padding-left: 65pt;text-indent: 0pt;line-height: 9pt;text-align: left;">| PointPort <span style=" color: #2121FF;">of </span>PointPort</p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 93%;text-align: left;">type <span style=" color: #000;">PortExtended = RealPort </span>of <span style=" color: #000;">Port | Null </span>type <span style=" color: #000;">Signal = LinearPort</span></p><p class="s8" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: left;">Figure 4: The types representing basic railway network con- cepts.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="3"><p class="s4" style="padding-top: 8pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark16">RAILWAY NETWORK MODEL</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark71" class="s16">The program design presented below is based on the mathe- matical model of railway networks developed in [17].</a></p><ol id="l6"><li data-list-text="3.1"><p class="s4" style="padding-top: 10pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark17">Basic Concepts</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The basic concepts from the mathematical model are ex- pressed by F<span class="s6"># </span><a href="#bookmark15" class="s16">types in Figure </a>4. Central concepts are <span class="s7">linear section </span>(type <span class="s33">Linear</span>) and <span class="s7">point section </span>(type <span class="s33">Point</span>). Each section has a unique label.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">A <span class="s7">port </span>(type <span class="s33">Port</span>) is the end of a section: A linear sec- tion has two ports called <span class="s7">up </span>and <span class="s7">down </span>and a point section has three ports called <span class="s7">stem</span>, <span class="s7">plus</span>, and <span class="s7">minus</span>. The track be- tween <span class="s7">stem </span>and <span class="s7">plus </span>forms the main path through the point. These concepts originate from the Danish railway terminol- ogy, where <span class="s7">up </span>(<span class="s7">down</span><a href="#bookmark78" class="s16">) denotes the direction, in which the distance from some reference location is increasing (decreas- ing) [</a>24]. A <span class="s7">signal </span>(type <span class="s33">Signal</span>) is placed at a port of a linear section.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Some types have been extended in order to cover special</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">cases: For example, <span class="s33">LinearExtended </span>contains the artificial section <span class="s33">Derail</span>, which indicates a derailment. Likewise, <span class="s33">Port- Extended </span>contains the artificial port <span class="s33">Null</span>, which marks the end of a track.</p></li><li data-list-text="3.2"><p class="s4" style="padding-top: 10pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark18">Network Specifications and States</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark22" class="s16">In Figure </a>5, we present the types representing railway net- works and their states. A <span class="s7">network </span>(type <span class="s33">Network</span>) is a tuple <span class="s22">(</span><span class="s7">L, P, con, Signals, </span><span class="s38">start</span><span class="s7">, </span><span class="s38">dest</span><span class="s22">)</span>, where</p><ul id="l7"><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 13pt;text-align: justify;">L <span class="p">is the set of linear sections,</span></p></li><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 11pt;text-align: justify;">P <span class="p">is the set of points,</span></p></li><li data-list-text="•"><p class="s7" style="padding-top: 1pt;padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: left;">con <span class="p">is a function describing the connections of the ports,</span></p></li><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 70%;text-align: left;">Signals <span class="p">is the set containing the linear ports, at which there are signals, and</span></p></li><li data-list-text="•"><p style="padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: left;">the vectors <span class="s38">start</span><span class="s7"> </span>and <span class="s38">dest</span><span class="s7"> </span>describe the initial posi- tions and the destinations of the trains.</p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: left;">A <span class="s7">state </span>(type <span class="s33">State</span>) represents an instantaneous descrip- tion of the network. A state is a tuple <span class="s22">(</span><span class="s38">pos</span><span class="s7">, Π, Σ</span><span class="s22">)</span>, where</p></li><li data-list-text="•"><p class="s38" style="padding-left: 48pt;text-indent: -9pt;text-align: left;">pos<span class="s7"> </span><span class="p">is a vector describing the train positions,</span></p><p class="s35" style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a name="bookmark22">type </a><span style=" color: #000;">PositionVector = Linear[]</span></p><p class="s35" style="padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">PositionVectorExtended = LinearExtended[]</span></p><p class="s35" style="padding-top: 8pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">Network = (HashSet&lt;Linear&gt; * HashSet&lt;Point&gt;</span></p><ul id="l8"><li data-list-text="*"><p class="s36" style="padding-left: 91pt;text-indent: -8pt;line-height: 9pt;text-align: left;">(Port -&gt; PortExtended)</p></li><li data-list-text="*"><p class="s36" style="padding-left: 91pt;text-indent: -8pt;line-height: 9pt;text-align: left;">HashSet&lt;Signal&gt;</p></li><li data-list-text="*"><p class="s36" style="padding-left: 91pt;text-indent: -8pt;line-height: 9pt;text-align: left;">PositionVector * PositionVector)</p><p class="s35" style="padding-top: 8pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">Direction = DirectionDown | DirectionUp</span></p><p class="s35" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">type <span style=" color: #000;">PointState = PointStatePlus | PointStateMinus [&lt;CustomEquality; NoComparison&gt;]</span></p><p class="s35" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">type <span style=" color: #000;">State = State </span>of <span style=" color: #000;">PositionVectorExtended</span></p><ul id="l9"><li data-list-text="*"><p class="s36" style="padding-left: 117pt;text-indent: -8pt;line-height: 8pt;text-align: left;">HashSet&lt;Point&gt;</p></li><li data-list-text="*"><p class="s36" style="padding-left: 117pt;text-indent: -8pt;line-height: 9pt;text-align: left;">HashSet&lt;Signal&gt;</p></li></ul></li></ul><p class="s8" style="padding-top: 4pt;padding-left: 15pt;text-indent: 0pt;text-align: justify;">Figure 5: The types representing railway networks and their states. The type <span class="h2">HashSet </span><a href="#bookmark61" class="s19">is from the standard library of the Common Language Infrastructure </a>[7] and it implements math- ematical sets.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s7" style="padding-left: 40pt;text-indent: -9pt;line-height: 13pt;text-align: center;">Π <span class="p">is a set containing every point in the </span>plus-state</p><p style="padding-left: 137pt;text-indent: 0pt;line-height: 11pt;text-align: center;">connecting the stem-port and the plus-port, and</p></li><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 12pt;text-align: justify;">Σ <span class="p">is a set containing the open signals.</span></p><p style="padding-top: 2pt;padding-left: 15pt;text-indent: 9pt;line-height: 71%;text-align: justify;">We have implemented custom definitions for equality and comparisons of <span class="s33">State</span>. This is because the standard library uses pointer equality to determine, whether two <span class="s33">HashSet</span>s are equal. Hence, without custom definitions, we may distinguish states, which are equal in a mathematical sense.</p><p style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark15" class="s16">Note that it is possible to optimize the types of Figure 4</a><a href="#bookmark22" class="s16"> and Figure </a>5 for greater performance: By incorporating <span class="s33">Signal </span>into <span class="s33">Linear </span>and <span class="s33">PointState </span>into <span class="s33">Point</span>, we can determine the states of signals and points without lookups in <span class="s7">Π </span>and <span class="s7">Σ</span>. In fact, <span class="s7">Π </span>and <span class="s7">Σ </span>would be unnecessary. However, in order to increase development speed and minimize the risk of bugs, we have kept the type definitions simple and close to the mathematical model.</p></li></ul></li><li data-list-text="3.3"><p class="s4" style="padding-top: 7pt;padding-left: 40pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark19">State Transitions</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark71" class="s16">The railway model from [</a>17] distinguishes between two types of <span class="s7">state transitions</span>: Movements of trains and updates to points and signals. The railway control system has no direct control of the former, whereas it has full control of the latter (leading to the roles of Adam and Eve).</p><p style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;">At most one train moves during a single state transition. It moves directly to the next linear section, possibly traversing a point section in the process. It may also derail, if it leaves a section through an unconnected port or if it enters a point which is in the wrong state.</p><p style="padding-left: 15pt;text-indent: 9pt;line-height: 71%;text-align: justify;">There is no restriction on the number of points and signals that may change state during a single transition.</p></li><li data-list-text="3.4"><p class="s4" style="padding-top: 7pt;padding-left: 40pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark20">Translation to a Reachability Game</a></p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The states of a railway network act as the vertices of the corresponding game graph and the state transitions act as the edges. Given a railway network, we use a simple search to generate the game graph explicitly: Starting from the vertex representing the initial state, we iteratively generate successors to discovered vertices. This continues until we have explored the entire game graph.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:3pt" cellspacing="0"><tr style="height:11pt"><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s39" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">Function</p></td><td style="width:168pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s39" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Type</p></td></tr><tr style="height:21pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s40" style="padding-top: 5pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">color</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Network -&gt; PositionVectorExtended -&gt;</p><p class="s40" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Color</p></td></tr><tr style="height:20pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s40" style="padding-top: 5pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">next</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Network -&gt; State -&gt; Linear -&gt;</p><p class="s40" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Direction -&gt; LinearExtended</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s40" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">succAdam</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 8pt;padding-right: 11pt;text-indent: -4pt;line-height: 110%;text-align: left;">GameVariant -&gt; Network -&gt; Direction[] -&gt; Vertex -&gt;</p><p class="s40" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">List&lt;Vertex&gt;</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s40" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">relPointsSigs2</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 8pt;text-indent: -4pt;line-height: 110%;text-align: left;">Network -&gt; Direction[] -&gt; Linear[] -&gt; (List&lt;LinearPort&gt; * HashSet&lt;Point&gt;</p><p class="s40" style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">* List&lt;Signal&gt;)</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s40" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">relPointsSigs3</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 8pt;text-indent: -4pt;line-height: 110%;text-align: left;">Network -&gt; Direction[] -&gt; Linear[] -&gt; (bool * HashSet&lt;Point&gt;</p><p class="s40" style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">* List&lt;Signal * Point option&gt;)</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s40" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">succEve</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 8pt;padding-right: 11pt;text-indent: -4pt;line-height: 110%;text-align: left;">GameVariant -&gt; Network -&gt; Direction[] -&gt; Vertex -&gt;</p><p class="s40" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">List&lt;Vertex&gt;</p></td></tr><tr style="height:20pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s40" style="padding-top: 5pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">nextLinears</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Network -&gt; Direction -&gt; Linear -&gt;</p><p class="s40" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Linear list</p></td></tr><tr style="height:10pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s40" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">directions</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Network -&gt; Directions[]</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s40" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">graph</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 6pt;padding-left: 278pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a name="bookmark23">the next linear section of a train based on the current state of the network. Since at most one train can move during a single state transition, one successor is generated for each train not blocked by a closed signal.</a></p><p style="padding-left: 278pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The function <span class="s33">succEve </span>generates successors resulting from updating points and signals. Since any number of points and signals can be updated during a single state transition, this function generates a number of successors exponential in the number of points and signals. However, this only</p><p style="padding-left: 278pt;text-indent: 0pt;line-height: 8pt;text-align: justify;">applies to the game variants <span class="s23">G</span><span class="s41">0</span><span class="s8"> </span>and <span class="s23">G</span><span class="s41">1</span>. When generating</p><p style="padding-left: 278pt;text-indent: 0pt;line-height: 13pt;text-align: left;">the graphs of <span class="s23">G</span><span class="s41">2</span><span class="s8"> </span>and <span class="s23">G</span><span class="s41">3</span>, <span class="s33">succEve </span>uses <span class="s33">relPointsSigs2 </span>and</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s36" style="padding-left: 137pt;text-indent: 0pt;line-height: 110%;text-align: center;">GameVariant -&gt; Network -&gt; (GameGraph&lt;State,Color&gt;</p><p class="s36" style="padding-left: 137pt;text-indent: 0pt;text-align: center;">* Vertex&lt;State,Color&gt;)</p><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Table 1: An overview of the central functions concerning the translation from a network specification to a reachability game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">We do not generate successors to crash vertices or goal vertices, as the outcome of the game is known, when the game token reaches such a vertex. We use the type <span class="s33">Color </span>to distinguish crash vertices and goal (success) vertices from the remaining vertices:</p><p class="s33" style="padding-top: 5pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">type Color = Crash | Nothing | Success</p><p style="padding-top: 4pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The type of the generated graph is <span class="s33">Graph&lt;State,Color&gt;</span>. That is, the type of the vertices is <span class="s33">Vertex&lt;State,Color&gt;</span>.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark23" class="s16">The program design facilitating game-graph generation is shown in Table </a><a href="#bookmark71" class="s16">1. This design follows naturally from the railway model presented in [</a>17] and each function declara- tion is formulated in a manner that closely resembles the corresponding mathematical definition.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The main function is <span class="s33">graph</span>: Given a well-formed network, it returns the corresponding game graph and the initial vertex. To be more precise, <span class="s33">graph </span>generates the game graph of one of four variants <span class="s23">G</span><span class="s6">0</span>, <span class="s23">G</span><span class="s6">1</span>, <span class="s23">G</span><span class="s6">2</span>, and <span class="s23">G</span><span class="s6">3 </span><a href="#bookmark28" class="s16">of the reachability game. We discuss these variants in Section </a>4. The desired variant is specified by the first parameter, which is of type <span class="s33">Game-</span></p><p class="s33" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Variant<span class="p">:</span></p><p class="s33" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: right;">relPointsSigs3 <a href="#bookmark28" class="s16">to determine the points and signals, which influence train movements in the current state. By ignoring the remaining points and signals, we drastically reduce the number of successors. We go into further details in Section 4.</a></p><p style="padding-left: 15pt;text-indent: 9pt;line-height: 70%;text-align: left;">Finally, the function <span class="s33">color </span>colors a vertex based on the positions of the trains in the corresponding state.</p></li><li data-list-text="3.5"><p class="s4" style="padding-top: 8pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark21">From Strategies to Signaling Plans</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The function <span class="s33">solveReachability </span>computes Eve’s winning strategy for a given game graph. From this strategy, we must extract a <span class="s7">signaling plan</span>. A signaling plan contains exactly one entry for each vector of train positions, from which we can get the trains safely to their destinations. Thus, we partition the winning vertices based on their train positions and select one vertex from each partition. For each of these vertices, the strategy describes Eve’s winning move. Since an Eve move corresponds to an update of the points and signals, each winning move describes a signaling configuration that is a safe response to the given train positions. Hence, the winning moves from the selected vertices yield the entries in the signaling plan:</p><p class="s33" style="padding-top: 4pt;padding-left: 48pt;text-indent: -18pt;line-height: 107%;text-align: left;">type SignalingPlan = seq&lt;PositionVector</p><p class="s33" style="padding-left: 66pt;text-indent: 0pt;text-align: left;">* (HashSet&lt;Point&gt; * HashSet&lt;Signal&gt;)&gt;</p></li></ol></li><li data-list-text="4"><p class="s4" style="padding-top: 7pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark24">REDUCING GAME SIZE</a><a name="bookmark28">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Let <span class="s23">G</span><span class="s41">0</span><span class="s8"> </span>be the original reachability game, in which every state is a vertex and every state transition is an edge. It follows from the declaration of <span class="s33">State </span>that a network <span class="s22">(</span><span class="s7">L, P, con, Signals, </span><span class="s38">start</span><span class="s7">, </span><span class="s38">dest</span><span class="s22">) </span>can be in <span class="s22">(</span><span class="s23">|</span><span class="s7">L</span><span class="s23">| </span><span class="s22">+ </span>1<span class="s22">)</span><span class="s42">n</span>2<span class="s24">|</span><span class="s42">P</span><span class="s24">|</span><span class="s43">+</span><span class="s24">|</span><span class="s42">Signals</span><span class="s24">| </span>dif- ferent states, where <span class="s7">n </span>denotes the number of trains. Since both Eve and Adam can have the turn from any of these states, an immediate upper bound on the number of vertices in <span class="s23">G</span><span class="s6">0 </span>is <span class="s22">(</span><span class="s23">|</span><span class="s7">L</span><span class="s23">| </span><span class="s22">+ </span>1<span class="s22">)</span><span class="s42">n</span>2<span class="s6">1</span><span class="s43">+</span><span class="s24">|</span><span class="s42">P</span><span class="s24">|</span><span class="s43">+</span><span class="s24">|</span><span class="s42">Signals</span><span class="s24">|</span><a href="#bookmark71" class="s16">. With some simple combi- natorics, it is possible to obtain the following tighter bound [17]:</a></p><p class="s33" style="padding-top: 7pt;padding-left: 33pt;text-indent: 0pt;line-height: 8pt;text-align: left;">type GameVariant = Zero | One | Two | Three</p><p class="s10" style="padding-left: 35pt;text-indent: 0pt;line-height: 7pt;text-align: left;">0</p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">V</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-left: 33pt;text-indent: 0pt;line-height: 7pt;text-align: left;">max</p><p class="s22" style="padding-top: 2pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">= <span class="s7">pos</span></p><p class="s10" style="padding-top: 7pt;text-indent: 0pt;text-align: left;">max</p><p class="s45" style="text-indent: 0pt;line-height: 15pt;text-align: left;"><span class="s44">2</span><span class="s10">1</span><span class="s12">+</span>|<span class="s11">P</span>|<span class="s12">+</span>|<span class="s11">Signals</span>|      <span class="s44">(1)</span></p><p style="padding-top: 7pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The function <span class="s33">directions </span>assigns directions to the trains: Each train is assigned the direction, which allows the train to reach its destination. This direction is found using a search on</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: justify;">the linear sections. During this search, we use <span class="s33">nextLinears</span>,</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 70%;text-align: justify;">Here, <span class="s7">pos</span><span class="s46">max </span>is an upper bound on the number of ways to distribute the trains, keeping in mind that we stop the game after a single derailment or a single collision. It is defined as</p><p class="s22" style="padding-left: 23pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s7">pos</span><span class="s46">max </span>= <span class="s47">( </span><span class="s48">&nbsp; 1 </span><span class="s49"> </span>+ <span class="s48">&nbsp;&nbsp; </span><span class="s50">n </span><span class="s51"> </span>+ <span class="s52">&nbsp; </span><span class="s53">(</span><span class="s54">n</span><span class="s55">−</span><span class="s52">1</span><span class="s53">)</span><span class="s54">n  </span><span class="s42"> </span><span class="s56">) </span><span class="s23">|</span><span class="s7">L</span><span class="s23">|</span><span class="p">!</span><span class="s7">.</span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">which computes the next linear sections in a given direction.</p><p class="s45" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><span class="s12">(</span>|<span class="s11">L</span>|−<span class="s11">n</span><span class="s12">)</span><span class="s10">!  </span><span class="s12">(</span>|<span class="s11">L</span>|−<span class="s12">(</span><span class="s11">n</span>−<span class="s10">1</span><span class="s12">))</span><span class="s10">!  2</span><span class="s12">(</span>|<span class="s11">L</span>|−<span class="s12">(</span><span class="s11">n</span>−<span class="s10">1</span><span class="s12">))</span><span class="s10">!</span></p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: left;">The functions <span class="s33">succAdam </span>and <span class="s33">succEve </span>generate successors to a vertex. The function <span class="s33">succAdam </span>uses <span class="s33">next </span>to compute</p><p style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: left;">The first term is the number of distinct position vectors of non-crash states, the second term is the number of distinct</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;">	</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="294" height="103" alt="image" src="a9-kasting%20%281%29a_files/Image_008.png"/></span></p><p class="s57" style="text-indent: 0pt;text-align: left;">v1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="294" height="103" alt="image" src="a9-kasting%20%281%29a_files/Image_009.png"/></span></p><p class="s57" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 6pt;padding-left: 13pt;text-indent: 1pt;line-height: 106%;text-align: justify;"><a name="bookmark29">Figure 6: An abstraction that ignores irrelevant Eve vertices. Adam resets every signal to </a><i>closed </i>before passing the turn to Eve. Hence, the red edge (<i>v1</i>,<i>v2</i>) is replaced by the blue edge (<i>v1</i>,<i>v5</i>). This renders <i>v2 </i>unreachable. Because <i>v2 </i>and <i>v5 </i>have the same successors, <i>v2 </i>is in Eve’s winning area if and only if <i>v5 </i>is in Eve’s winning area. Hence, we have not changed the outcome from <i>v1</i>, so this abstraction does not change the winner of the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 8pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">position vectors in derail states, and the last term is the number of distinct position vectors in collision states.</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The upper bound <span class="s7">V </span><span class="s41">0</span><span class="s8">   </span>is exponential in the number of points and signals and near-exponential in the number of trains. This renders synthesis intractable for all but the small- est networks. Therefore, we have devised three abstractions, each of which significantly reduces the size of the game graph. When all abstractions are applied, the upper bound on the size of the game graph is exponential only in the number of trains.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">These abstractions do not change the winner of the game,</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark71" class="s16">so the computed signaling plans remain correct. For each abstraction, we provide an informal argument of this claim. For formalizations and rigorous proofs, we refer to [17].</a></p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">Starting from the original game <span class="s23">G</span><span class="s41">0</span>, we obtain the game variants <span class="s23">G</span><span class="s6">1</span>, <span class="s23">G</span><span class="s6">2</span>, and <span class="s23">G</span><span class="s6">3 </span>by repeatedly applying an additional abstraction to the previous variant.</p><ol id="l10"><li data-list-text="4.1"><p class="s4" style="padding-top: 9pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark25">Ignoring Irrelevant Eve Vertices</a></p><p style="padding-left: 48pt;text-indent: -33pt;line-height: 93%;text-align: justify;">The first abstraction is based on the following observation: When Eve receives the turn, the configura-</p><p style="padding-left: 48pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">tion of points and signals is irrelevant, as</p><p style="padding-top: 1pt;padding-left: 47pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Eve can change it to whatever she likes be- fore passing the turn to Adam. Hence, with- out changing the outcome of the game, we can force Adam to reset every point to the <span class="s7">minus-state </span>and every signal to <span class="s7">closed </span>before passing the turn to Eve.</p><p class="s8" style="padding-top: 6pt;padding-left: 13pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a name="bookmark30">Figure 7: An abstraction that ignores irrelevant points and signals. We assign the default value of </a><i>closed </i>to every signal not directly in front of a train. Hence, we remove the red edge (<i>v1</i>,<i>v2</i>). This renders <i>v2 </i>unreachable. Also, because <i>v2 </i>and <i>v3 </i>have the same successor, <i>v2 </i>is in Eve’s winning area if and only if <i>v3 </i>is in Eve’s winning area. Therefore, we have not changed whether <i>v1 </i>has a successor in the winning area. Thus, we have not changed the outcome from <i>v1 </i>and consequently, we have not changed the winner of the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.2"><p class="s4" style="padding-top: 9pt;padding-left: 38pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark26">Ignoring Irrelevant Points and Signals</a></p><p style="padding-left: 47pt;text-indent: -33pt;line-height: 15pt;text-align: justify;">The next abstraction is based on the following observation:</p><p style="padding-top: 3pt;padding-left: 47pt;text-indent: 0pt;line-height: 71%;text-align: justify;">When Adam has the turn, the state of a point or a signal not immediately in front of a train is irrelevant, as Eve can change that point or signal before a train comes close enough to be influenced by it. Also, if we consider a point <span class="s7">s </span>and every train about to enter <span class="s7">s </span>is blocked by a closed signal, then the state of <span class="s7">s </span>is irrelevant.</p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">If we assign the default values of <span class="s7">minus-state </span>and <span class="s7">closed </span><a href="#bookmark30" class="s16">to irrelevant points and signals, then the size of the game graph is reduced significantly. The effect of this abstraction is illustrated in Figure </a>7. The game variant <span class="s23">G</span><span class="s41">2</span><span class="s8"> </span>is the result of applying this abstraction to <span class="s23">G</span><span class="s41">1</span>.</p><p style="padding-left: 13pt;text-indent: 10pt;line-height: 71%;text-align: justify;">What is the upper bound on the number of vertices in <span class="s23">G</span><span class="s41">2</span>? The number of Eve vertices stays the same but the maximum number of successors to each Eve vertex is 3<span class="s42">n</span>. Why? In the worst case, each train is in front of a distinct signal <span class="s7">s </span>and a distinct point <span class="s7">p</span>. We claim that there are three relevant configurations of <span class="s7">s </span>and <span class="s7">p</span>: If <span class="s7">s </span>is closed, then the state of <span class="s7">p </span>does not matter, so we use the default value of <span class="s7">minus-state</span>. If <span class="s7">s </span>is open, then we need to consider both the minus-state and the plus-state.</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: right;">Each train gives raise to three such configurations and we</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 11pt;text-align: right;">must generate all combinations. Hence, we have at most 3<span class="s42">n</span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: right;">successors. In addition, this abstraction does not introduce</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: left;">This implies that every reachable Eve vertex has every point in the minus-state and every signal closed. The effect of this</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><a href="#bookmark29" class="s16">abstraction is illustrated in Figure </a>6. The game variant <span class="s23">G</span><span class="s41">1</span><span class="s8"> </span>is</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">additional vertices, so <span class="s7">V </span><span class="s41">1</span></p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">we obtain the following:</p><p style="padding-left: 10pt;text-indent: 0pt;text-align: left;">is still an upper bound. Hence,</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;">the result of applying this abstraction to <span class="s23">G</span><span class="s41">0</span>.</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><a name="bookmark31">V </a><span class="s41">2</span><span class="s8">  </span><span class="s22">= </span><span class="p">min</span><span class="s23">{</span>pos</p><p class="s22" style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;">(<span class="p">3</span><span class="s42">n </span>+ <span class="p">1</span>)<span class="s7">, V </span><span class="s41">1</span><span class="s8">  </span><span class="s23">}    </span><span class="p">(3)</span></p><p style="padding-top: 6pt;padding-left: 24pt;text-indent: 0pt;line-height: 2pt;text-align: left;">In <span class="s6">1</span></p><p class="s10" style="padding-top: 1pt;padding-left: 24pt;text-indent: 0pt;line-height: 6pt;text-align: left;">max</p><p class="s10" style="padding-top: 2pt;padding-left: 24pt;text-indent: 0pt;line-height: 6pt;text-align: left;">max</p><p class="s10" style="padding-top: 1pt;padding-left: 24pt;text-indent: 0pt;line-height: 6pt;text-align: left;">max</p><p class="s23" style="padding-left: 36pt;text-indent: 0pt;line-height: 11pt;text-align: left;">G <span class="p">, we can have at most one reachable Eve vertex per</span></p><p style="padding-top: 5pt;padding-left: 31pt;text-indent: 0pt;line-height: 5pt;text-align: left;">This upper bound is exponential only in the number of</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">obtainable vector of train positions. The number of Adam vertices stays the same, so an upper bound on the number vertices in <span class="s23">G</span><span class="s41">1</span><span class="s8"> </span>is</p><p style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: left;">trains. In contrast, the previous bound was exponential in the number of trains, points and signals. Typically, the number of</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><a name="bookmark32">trains is much smaller than the number of points and signals,</a></p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">V</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-top: 1pt;padding-left: 73pt;text-indent: 0pt;line-height: 7pt;text-align: left;">1</p><p class="s10" style="padding-left: 71pt;text-indent: 0pt;line-height: 7pt;text-align: left;">max</p><p class="s22" style="padding-top: 4pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">= <span class="s7">pos</span></p><p class="s10" style="padding-top: 8pt;text-indent: 0pt;text-align: left;">max</p><p class="s45" style="text-indent: 0pt;text-align: left;"><span class="s59">(</span><span class="s44">2</span>|<span class="s11">P</span>|<span class="s12">+</span>|<span class="s11">Signals</span>| <span class="s59">+ </span><span class="s44">1</span><span class="s59">)</span><span class="s60">.     </span><span class="s44">(2)</span></p><p style="padding-left: 21pt;text-indent: 0pt;text-align: left;">so this amounts a big difference in the size of the game graph.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:33pt"><td style="width:26pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;"><a name="bookmark33">t1</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s10</p></td><td style="width:22pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s11</p></td><td style="width:15pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">s12</p></td><td style="width:10pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s62" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">v2</p></td></tr><tr style="height:8pt"><td style="width:58pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:15pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><table style="border-collapse:collapse" cellspacing="0"><tr style="height:33pt"><td style="width:26pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s10</p></td><td style="width:22pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s11</p></td><td style="width:15pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s61" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">s12</p></td><td style="width:10pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s62" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">v4</p></td></tr><tr style="height:8pt"><td style="width:16pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:57pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="padding-left: 16pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">	</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="316" height="159" alt="image" src="a9-kasting%20%281%29a_files/Image_010.png"/></span></p><p class="s57" style="text-indent: 0pt;text-align: left;">v1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10  s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s57" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 4pt;text-align: left;">Figure 8: An abstraction that removes redundant Eve moves.</p><p style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">First, consider only the trains directly in front of signals. Let <span class="s7">n</span><span class="s24">t </span>denote the number of these trains. In the worst case, there is a distinct point behind each signal. In each vertex, at most one signal is open, so the only relevant point is the one behind that signal. Hence, we have 2<span class="s7">n</span><span class="s24">t </span>relevant configurations in addition to one where every signal is closed.</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 14pt;text-indent: 10pt;line-height: 70%;text-align: justify;">Now consider the remaining <span class="s22">(</span><span class="s7">n </span><span class="s23">− </span><span class="s7">n</span><span class="s24">t </span><span class="s22">) </span>trains. In the worst case, they are all in front of points, which gives raise to 2<span class="s42">n</span><span class="s24">−</span><span class="s42">n</span><span class="s63">t </span>configurations. We must generate all combinations, so we have 2<span class="s42">n</span><span class="s24">−</span><span class="s42">n</span><span class="s63">t </span><span class="s22">(</span>2<span class="s7">n</span><span class="s24">t </span><span class="s22">+ </span>1<span class="s22">) </span>successors. Within the real numbers, this value has a maximum at <span class="s7">n</span><span class="s24">t </span><span class="s22">= </span><span class="s7">γ </span><span class="s23">≈ </span>0<span class="s7">.</span>94, so we arrive at the following bound on the number of vertices:</p><p class="s8" style="padding-top: 7pt;padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">At most one signal can be open at any time. Hence, we re-</p><p class="s10" style="padding-top: 1pt;padding-left: 16pt;text-indent: 0pt;line-height: 7pt;text-align: left;">3</p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">V</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">max</p><p class="s22" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">= <span class="p">min</span><span class="s23">{</span><span class="s7">pos</span></p><p class="s10" style="padding-top: 8pt;text-indent: 0pt;text-align: left;">max</p><p class="s22" style="text-indent: 0pt;text-align: left;">(<span class="s23">l</span><span class="p">2</span><span class="s42">n</span><span class="s24">−</span><span class="s42">γ </span>(<span class="p">2</span><span class="s7">γ </span>+ <span class="p">1</span>)<span class="s23">j </span>+ <span class="p">1</span>)<span class="s7">, V </span><span class="s6">2</span></p><p class="s23" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">} <span class="p">(4)</span></p><p class="s8" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">move the red edge (<i>v1</i>,<i>v3</i>) from the game. This renders <i>v3 </i>unreachable. Also, because the successors to <i>v2 </i>and <i>v4 </i>are subsets of the successors to <i>v3</i>, if Eve wins from <i>v3 </i>she also wins from <i>v2 </i>and <i>v4</i>. Consequently, removing (<i>v1</i>,<i>v3</i>) does not influence the outcome from <i>v1</i>. Conversely, if Eve wins from <i>v2 </i>or <i>v4</i>, her victory does not depend on <i>v3</i>. Hence, adding (<i>v1</i>,<i>v3</i>) does not influence the outcome from <i>v1 </i>ei- ther. We can conclude that this abstraction does not change the winner of the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.3"><p class="s4" style="padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark27">Removing Redundant Eve Moves</a></p><p style="padding-left: 48pt;text-indent: -33pt;line-height: 14pt;text-align: justify;">The third abstraction is based on the following observation:</p><p style="padding-top: 2pt;padding-left: 47pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Assume that every train has a signal in front of it. Eve can close all but a single signal and thereby determine, which train Adam is go- ing to move. If Eve’s winning strategy allows more than one signal to be open, then from Eve’s point of view, it is irrelevant which of the corresponding trains Adam moves. The strategy leaves the decision up to Adam. However, Eve can make this decision herself. That is, she can select one of the signals al- lowed to be open and close all other signals.</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark33" class="s16">We can force Eve to make this decision by only generating successor vertices, in which at most one signal is open. This significantly reduces the number of Adam vertices. The effect of this abstraction is illustrated in Figure 8.</a> The game variant <span class="s23">G</span><span class="s41">3</span><span class="s8"> </span>is the result of applying this abstraction to <span class="s23">G</span><span class="s41">2</span>.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: right;">As with the other abstractions, this one does not change the outcome of the game. However, in real railway networks where trains can move concurrently, it does indeed make a difference that at most one signal can be open at any time. In situations where it is safe to allow more than one train to move, this abstraction is restrictive and increases the time it takes for all trains to get to their destinations. However, in small networks with large numbers of trains, many signals have to be simultaneously closed in order to avoid collisions. In such cases, this abstraction does not appear too restrictive. What is the upper bound on the number of vertices in <span class="s23">G</span><span class="s41">3</span>? Again, the number of Eve vertices stays the same but the maximum number of successors to an Eve vertex is now <span class="s23">l</span>2<span class="s42">n</span><span class="s24">−</span><span class="s42">γ </span><span class="s22">(</span>2<span class="s7">γ </span><span class="s22">+ </span>1<span class="s22">)</span><span class="s23">j</span>, where <span class="s7">γ </span><span class="s22">= (</span>2 <span class="s23">− </span>ln<span class="s22">(</span>2<span class="s22">))</span><span class="s7">/ </span>ln<span class="s22">(</span>4<span class="s22">) </span><span class="s23">≈ </span>0<span class="s7">.</span>94. Why?</p><p style="padding-top: 2pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">If we compare this to the previous upper bound, we have reduced the base of the exponential function.</p></li></ol></li><li data-list-text="5"><p class="s4" style="padding-top: 8pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark34">A SYNTHESIS TOOL</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The presented algorithms, abstractions, and F<span class="s6"># </span>definitions have been incorporated into a synthesis tool. This tool accepts specifications of railway networks written in a domain specific language (DSL). The tool outputs correct signaling plans, whenever such exist.</p><ol id="l11"><li data-list-text="5.1"><p class="s4" style="padding-top: 8pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark35">Domain-Specific Language</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark6" class="s16">The following piece of DSL specifies the network shown in Figure 1:</a></p><p class="s33" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">connections =</p><p class="s33" style="padding-left: 33pt;text-indent: 0pt;line-height: 107%;text-align: left;">s10.up -&gt; s11.plus, s20.up -&gt; s11.minus, s11.stem -&gt; s12.down</p><p class="s33" style="padding-left: 14pt;text-indent: 0pt;line-height: 107%;text-align: left;">signals = s20.up, s10.down trains = s20 -&gt; s12, s12 -&gt; s10</p><p class="s7" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><span class="p">As shown, a network is specified by a list of port connec- tions, a list of signals, and a list of the initial positions and destinations of the trains. This immediately yields the last four components of a network specification </span><span class="s22">(</span>L, P, con, Signals, <u>start</u>, <u>dest</u><span class="s22">)</span><span class="p">. The sets </span>L <span class="p">and </span>P <a href="#bookmark71" class="s16">are extracted from the list of connections. A formal grammar of this DSL is in [17].</a></p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark65" class="s16">The parser for this DSL was constructed using the parser- combinator library FParsec [11]. This library is an adaptation of the Haskell-library Parsec [</a><a href="#bookmark47" class="s16">11]. Compared to graph genera- tion and game solving, parsing is blazingly fast (see </a>Table 3).</p></li><li data-list-text="5.2"><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark36">Well-Formed Networks</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark71" class="s16">The syntax of the DSL does not ensure that the network specifications are well-formed. For example, a train may have a destination, which is not a linear section. Therefore, after parsing the network description into abstract syntax, we check for ill-formed networks [17].</a></p></li><li data-list-text="5.3"><p class="s4" style="padding-top: 8pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark37">Example Output</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">If the given network is well-formed, the tool constructs the game graph and solves the game. Afterwards, it outputs a few performance statistics and a correct signaling plan, if one exists.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_011.png"/></span></p><p class="s36" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><a name="bookmark38">Railway network loaded! Generating game graph... Game graph generated!</a></p><p class="s36" style="padding-left: 31pt;text-indent: 0pt;line-height: 94%;text-align: left;">Number of vertices: 37 Number of edges: 60 Computing signaling plan... signalingplan([s20, s10]) =</p><ul id="l12"><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">plus:</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 6pt;text-align: left;">minus: s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a name="bookmark39">s08</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">s09</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"><span><img width="256" height="84" alt="image" src="a9-kasting%20%281%29a_files/Image_012.png"/></span></p><p class="s64" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s1121</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/></li><li data-list-text="-"><p class="s36" style="padding-top: 2pt;padding-left: 40pt;text-indent: -8pt;line-height: 9pt;text-align: left;">open: s20.up</p></li><li data-list-text="-"><p class="s36" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">closed: s10.down signalingplan([s20, s12]) =</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">plus: s11</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">minus:</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">open:</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">closed: s20.up, s10.down</p></li></ul><p class="s36" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;">Parsing and well-formedness: 0.0959 seconds Game-graph generation: 0.0389 seconds Signaling-plan computation: 0.0547 seconds</p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;"> &nbsp;&nbsp;&nbsp;&nbsp; <span class="s66">Total execution time: 0.190 seconds &nbsp;&nbsp;&nbsp; </span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="311" height="142" alt="image" src="a9-kasting%20%281%29a_files/Image_013.png"/></span></p><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s31</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s32</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s33</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s34</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s22m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s20p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s22</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s22p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s64" style="text-indent: 0pt;text-align: left;">s20m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Figure 9: Output of the synthesis tool after solving the net-</p><p class="s10" style="text-indent: 0pt;line-height: 0pt;text-align: center;">0</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a href="#bookmark78" class="s19">Figure 10: The network Fork inspired by [24].</a></p><p class="s8" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a href="#bookmark6" class="s19">work from </a>Figure 1 with <span class="s23">G </span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: right;"><a name="bookmark40">s10</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s12</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s13</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s64" style="padding-left: 137pt;text-indent: 0pt;text-align: center;">s14</p><p style="padding-top: 4pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark6" class="s16">The output after solving the network from Figure </a><a href="#bookmark38" class="s16">1 is shown in Figure </a>9. From this output, it is evident that the tool has computed a signaling plan: If the trains <span class="s7">t1 </span>and <span class="s7">t2 </span>have the respective positions <span class="s7">s20 </span>and <span class="s7">s10 </span>, then a safe configuration is to put <span class="s7">s11 </span>in the minus-state and open only the signal at the up-port of <span class="s7">s20 </span>. If <span class="s7">t1 </span>and <span class="s7">t2 </span>have the positions <span class="s7">s20 </span>and <span class="s7">s12 </span>, then a safe configuration is to put <span class="s7">s11 </span><a href="#bookmark12" class="s16">in plus-state and close all signals. This exactly corresponds to Eve’s winning moves in the game from Figure 2.</a></p></li></ol></li><li data-list-text="6"><p class="s4" style="padding-top: 7pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark41">EXPERIMENTS</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark71" class="s16">In order to determine its performance, we conducted several experiments with the synthesis tool [</a><a href="#bookmark6" class="s16">17]. We used, among others, the networks Toy, Fork, Lyngby Station, and Florence Station depicted in Figure </a><a href="#bookmark39" class="s16">1, Figure </a><a href="#bookmark40" class="s16">10, Figure </a><a href="#bookmark45" class="s16">11, and Fig- ure </a><a href="#bookmark43" class="s16">12, respectively. The complexities of these networks are summarized in Table 2.</a></p><p class="s8" style="padding-top: 10pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a href="#bookmark78" class="s19">Figure 11: A railway network resembling Lyngby Station lo- cated north of Copenhagen, Denmark. Compared to the lay- out of Lyngby Station shown in </a>[24], we have added four linear sections, as our model does not allow two points directly con- nected to each other.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The most interesting result is that we are able to generate correct signaling plans for Lyngby Station with five trains in</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">0.67 seconds and for Florence Station with four trains in 8.1 seconds. That is, we are able to generate signaling plans for real railway networks in less than 10 seconds.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a name="bookmark43">These running times are achieved using </a><span class="s23">G</span><span class="s41">3</span>. With <span class="s23">G</span><span class="s41">2</span>, the running time for Lyngby Station approximately quadruples to 2.6 seconds and for Florence Station it increases by roughly 50 percent to 12 seconds. When using <span class="s23">G</span><span class="s41">0</span><span class="s8"> </span>and <span class="s23">G</span><span class="s41">1</span><a href="#bookmark28" class="s16">, the tool runs out of memory before the signaling plans are generated. This is a testimony to the usefulness of the abstractions presented in Section 4.</a></p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The abstraction of ignoring irrelevant points and signals seems especially powerful: Lyngby and Florence Stations are</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: justify;">unsolvable with <span class="s23">G</span><span class="s41">1</span><span class="s8"> </span>but are solvable with <span class="s23">G</span><span class="s41">2</span>. This is no real</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="257" height="74" alt="image" src="a9-kasting%20%281%29a_files/Image_014.png"/></span></p><p style="text-indent: 0pt;line-height: 13pt;text-align: left;">Linears</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 1pt;text-indent: 15pt;line-height: 71%;text-align: justify;">Fork Lyngby Florence</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 2pt;text-indent: 0pt;line-height: 12pt;text-align: left;">7</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;">11</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;">69</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 1pt;text-indent: 0pt;line-height: 73%;text-align: center;">Points 1</p><p style="text-indent: 0pt;line-height: 10pt;text-align: center;">2</p><p style="text-indent: 0pt;line-height: 11pt;text-align: center;">6</p><p style="text-indent: 0pt;line-height: 12pt;text-align: center;">23</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 13pt;text-align: left;">Signals Trains</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 13pt;text-align: left;">Toy<span class="s8">  </span>3</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 2pt;text-indent: 0pt;line-height: 12pt;text-align: left;">2</p><p style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">6</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;">14</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;">46</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 12pt;text-align: left;">2</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;">3</p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;">5</p><p style="text-indent: 0pt;line-height: 12pt;text-align: left;">4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;">Table 2: Overview of the sizes of the networks used for exper-</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">surprise, as <span class="s7">V </span><span class="s41">1</span></p><p style="padding-left: 11pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark32" class="s16">(see equation </a>(2)) is exponential in the</p><p class="s10" style="text-indent: 0pt;line-height: 1pt;text-align: right;">2</p><p class="s8" style="padding-top: 8pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">iments.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">During the experiments, we measured the sizes of the generated game graphs and the running times of several phases of the computations. Each of the game variants <span class="s23">G</span><span class="s41">0</span>, <span class="s23">G</span><span class="s6">1</span>, <span class="s23">G</span><span class="s6">2</span>, and <span class="s23">G</span><span class="s6">3 </span>was used to solve each of the networks. The experiments were conducted on a MacBook Pro<span class="s41">1</span><span class="s8"> </span><a href="#bookmark47" class="s16">(Retina 13”, primo 2015). The results are shown in Table 3.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="65" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_015.png"/></span></p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;line-height: 90%;text-align: justify;"><a name="bookmark44"><span class="s9">1 </span></a>This machine has a 2.7-GHz Intel-Core-i5 processor and 8 GB of 1867-MHz DDR3 memory. The source code was compiled using The Open Edition of the F<span class="s67">#  </span><a href="#bookmark74" class="a">Compiler [</a>20] and executed using the Mono</p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;">JIT compiler (version 4.2.3) under OS X El Capitan (version 10.11.5).</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">number of trains, points, and signals, whereas <span class="s7">V</span><span class="s26">max </span><a href="#bookmark31" class="s16">(see equation </a>(3)) is exponential only in the number of trains.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 72%;text-align: justify;">The difference between <span class="s23">G</span><span class="s41">2</span><span class="s8"> </span>and <span class="s23">G</span><span class="s41">3</span><span class="s8"> </span>is much smaller: The running times when using <span class="s23">G</span><span class="s41">2</span><span class="s8"> </span>are within a factor four of the running times obtained by <span class="s23">G</span><span class="s41">3</span>. Hence, if we find the at-most- one-open-signal aspect of <span class="s23">G</span><span class="s41">3</span><span class="s8"> </span>too restricting, then we can use <span class="s23">G</span><span class="s41">2</span><span class="s8"> </span>and expect no more than a quadruplication of the running time.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark28" class="s16">It is also worth noting that the sizes of the generated game graphs are significantly lower than the upper bounds presented in Section </a>4. In these upper bounds, we include every possible way of distributing the trains in a network. However, many of these distributions are not obtainable, as two trains cannot pass each other on a single track. In</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 52pt;text-indent: 0pt;text-align: left;"><span><img width="571" height="325" alt="image" src="a9-kasting%20%281%29a_files/Image_016.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 6pt;padding-left: 146pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a name="bookmark45">Figure 12: Layout of roughly a quarter of Florence Station located in Florence, Italy. Each blue square represents a signal. This drawing was kindly provided by Alessandro Fantechi.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">addition, it is often the case a train cannot reach a large part of the network, as it is not allowed to change direction. Hence, in large networks with many trains, these bounds are not very tight. However, if we keep this in mind, they can still serve as indications of the complexity of a given railway network.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">We now turn to the running times of the individual compu- tation phases: The parsing and the checks for well-formedness always take around 0.1 seconds and the majority of this is probably spent on disk access. These steps are fast, because they only require an amount of work linear in the number of network entities. For example, parsing a port connection requires processing a constant amount of characters<span class="s41">2</span>.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark13" class="s16">For the networks Lyngby and Florence Stations, the gen- eration of the game graph takes significantly longer than solving the resulting game. This is expected, as Algorithm </a>1 spends very little time at each vertex: It makes a few reads and writes in hash tables and adds new nodes to a queue. All of these operations are fast. During graph generation, we have to maintain the hash table that represents the game graph. In addition, we need to find the next linear sections of trains, find the relevant points and signals, and compute power sets of points and signals. Therefore, game-graph generation is the performance bottleneck.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Finally, the tool can use a lot of memory. This is indicated</p><p style="padding-bottom: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">by the fact that <span class="s23">G </span>and <span class="s23">G</span><span class="s41">1</span><span class="s8"> </span>cannot solve Lyngby and Florence Stations without running out of memory. Also, adding a</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="64" height="1" alt="image" src="a9-kasting%20%281%29a_files/Image_017.png"/></span></p><p class="s9" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;"><a name="bookmark46">2 </a><span class="s10">If the network features unusually long identifiers, then the time complexity per connection cannot be described as constant.</span></p><p style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">fifth train to Florence Station causes the tool to run out of memory when we use <span class="s23">G</span><span class="s6">2 </span>and <span class="s23">G</span><span class="s6">3</span>.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The maximum amount of memory that the tool can allo- cate seems to be somewhere between 2.85 GB and 3.37 GB. This is a limit imposed by the Common Language Runtime or the operating system, as the machine used for experiments has 8 GB of memory and plenty of disk space for virtual memory.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">We did not have the time to figure out how to remove this artificial limit. Hence, we cannot determine the precise amount of memory needed to solve Florence Station with five trains. However, when we add the fifth train, the upper bound on the number of vertices in <span class="s23">G</span><span class="s41">3</span><span class="s8"> </span>increases from 6<span class="s7">.</span>0<span class="s23">×</span>10<span class="s41">8</span><span class="s8"> </span>to 8<span class="s7">.</span>1 <span class="s23">× </span>10<span class="s41">10</span>, which is a factor 135 increase. When solving Florence Station with four trains, the tool uses approximately</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">0.14 GB of memory, so it is reasonable to assess that the tool needs roughly 19 GB of memory to solve Florence Station with five trains. By the same logic, it would take roughly 18 minutes to compute a signaling plan.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l13"><li data-list-text="6.1"><p class="s4" style="padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: justify;"><a name="bookmark42">Purely Functional Game-Graph Generation</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark13" class="s16">In order to determine the performance of purely functional game-graph generation, we left the imperative constructs of Algorithm </a>1 unchanged but replaced all other impera- tive constructs with purely functional counterparts. In this process, we replaced hash-based data structures with purely functional ones. More specifically, we replaced <span class="s33">HashSet</span>s and <span class="s33">Dictionaries </span>with <span class="s33">Set</span>s and <span class="s33">Map</span>s from the F<span class="s6"># </span><a href="#bookmark67" class="s16">library [13].</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:3pt" cellspacing="0"><tr style="height:11pt"><td style="width:87pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Toy Fork</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Lyngby</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Florence</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s69" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s70">0</span></p><p class="s70" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s68" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">240 236544</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">3<span class="s71">.</span>7 <span class="s72">× </span>10<span class="s73">11</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2<span class="s71">.</span>8 <span class="s72">× </span>10<span class="s73">28</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">37 34849</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s74" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s70">0</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.10</p><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.039 6.7</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.055 0.31</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">total time</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.19 7.1</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s69" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s70">1</span></p><p class="s70" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s68" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">135 118734</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1<span class="s71">.</span>8 <span class="s72">× </span>10<span class="s73">11</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1<span class="s71">.</span>4 <span class="s72">× </span>10<span class="s73">28</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">24 14484</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s74" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s70">1</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.10</p><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.064 0.31</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.025 0.042</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">total time</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.19 0.46</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s69" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s70">2</span></p><p class="s70" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s68" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: left;">135 12936</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">4<span class="s71">.</span>3 <span class="s72">× </span>10<span class="s73">7</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2<span class="s71">.</span>0 <span class="s72">× </span>10<span class="s73">9</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">18  672</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">78530</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">253063</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s74" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s70">2</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.11</p><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.069 0.085</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.11</p><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">2.3</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.10</p><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">12</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.021 0.028</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.11</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.40</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">total time</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.19 0.22</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">2.6</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">12</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s69" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s70">3</span></p><p class="s70" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s68" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: left;">105 6006</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">8<span class="s71">.</span>5 <span class="s72">× </span>10<span class="s73">6</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">6<span class="s71">.</span>0 <span class="s72">× </span>10<span class="s73">8</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">15  410</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">25467</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">220733</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s74" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s70">3</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s68" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.11</p><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.068 0.074</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.11</p><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">0.51</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.10</p><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">7.5</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s68" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.024 0.024</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.057</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s68" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.47</p></td></tr><tr style="height:10pt"><td style="width:87pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s68" style="padding-left: 47pt;text-indent: 0pt;line-height: 8pt;text-align: left;">total time</p></td><td style="width:150pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s75" style="padding-left: 108pt;text-indent: 0pt;text-align: left;"><a name="bookmark47">0.19  0.21  0.67   8.1</a></p><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Table 3: The results of the experiments. The number of gen- erated vertices is denoted #vertices and the checks for well- formedness are denoted WF. Time measurements are given in seconds and measurements less than 0.5 seconds have a large relative uncertainty due to the unpredictable timing of the garbage collector. A dash indicates that the computation aborts with an out-of-memory exception after allocating be- tween 2.85 GB and 3.37 GB of memory.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">This purely functional version performed worse than the imperative version: The running time of using <span class="s23">G</span><span class="s41">3</span><span class="s8"> </span>on Lyngby Station was 4.8 seconds instead of 0.67 seconds and the running time of using <span class="s23">G</span><span class="s41">3</span><span class="s8"> </span>on Florence Station was 63 seconds instead of 8.1 seconds. This is roughly a factor 8 increase in the running time.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The purely functional <span class="s33">Set</span>s and <span class="s33">Map</span><a href="#bookmark67" class="s16">s are implemented using balanced binary search trees [</a>13], so lookups, insertions, and deletions run in <span class="s7">O</span><span class="s22">(</span>log <span class="s7">n</span><span class="s22">) </span>time. In comparison, these operations take expected <span class="s7">O</span><span class="s22">(</span>1<span class="s22">) </span>time on the <span class="s33">HashSet</span>s and <span class="s33">Dictionaries</span>. This difference in the asymptotic running times is the most likely explanation of the eight-fold increase in the overall performance.</p></li></ol></li><li data-list-text="7"><p class="s4" style="padding-top: 9pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark48">CONCLUSION</a></p></li></ol><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Reachability games have been successfully used to synthesize signaling plans for railway networks:</p><ol id="l14"><li data-list-text="(1)"><p style="padding-top: 3pt;padding-left: 47pt;text-indent: -16pt;line-height: 71%;text-align: justify;">A mathematical model of railway networks was de- veloped. This model describes the state space of a network and the transitions between these states. Furthermore, a simple DSL for describing railway networks has been defined.</p></li><li data-list-text="(2)"><p style="padding-top: 6pt;padding-left: 47pt;text-indent: -16pt;line-height: 71%;text-align: justify;">A game semantics for the DSL was given in terms of reachability games, where the states of a network act as vertices and the state transitions act as edges. Eve, the existential player, acts as the control system being responsible for the points and signals, and Adam, the universal player, acts as an adversary controlling the trains. It was shown how to obtain a correct signaling plan from Eve’s winning strategy. This signaling plan will bring trains safely from their initial positions to their destinations.</p></li><li data-list-text="(3)"><p style="padding-left: 48pt;text-indent: -16pt;line-height: 9pt;text-align: justify;">A tool for synthesizing correct-by-construction signal-</p></li></ol><p style="padding-top: 1pt;padding-left: 48pt;text-indent: 0pt;line-height: 71%;text-align: justify;">ing plans from DSL specifications was implemented in the functional programming language F<span class="s6">#</span>.</p><p style="padding-top: 7pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">An upper bound on the size of the original railway game was given. This bound is exponential in the number of trains, points, and signals. This renders computations on large net- works impossible, so three abstractions were introduced, each leading to a game variant equivalent to the original. Each abstraction significantly reduces the upper bound on the game size.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark78" class="s16">The current implementation is able to generate correct signaling plans for real railway networks of substantial size. Specifically, in roughly 8 seconds, we are able to generate a sig- naling plan guiding four trains through (a fourth of) Florence Station. With five trains, the tool runs out of memory before the computation is complete. The size of the problems, for which synthesis is feasible, is approaching the size for which state-of-the-art verification methods can verify correctness of interlocking tables [24].</a></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Due to the static and explicit generation of the full game</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">graphs, the bottleneck of the current implementation is the memory needed during the graph generation process. The game-solving part uses an efficient implementation of a linear- time algorithm and for the networks considered that part alone never took more than 0.5 seconds.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark59" class="s16">To improve on the space limitations during game graph generation, the next step is to exploit on-the-fly methods, which will only generate the part of the game needed to find the winning area of Eve. Such techniques have been successfully used in, for example, [</a><a href="#bookmark70" class="s16">5]. An even further step would be to use symbolic methods to represent and solve games. This approach is used in [</a>16], where very large parity games are solved symbolically. Because reachability games are simpler than parity games, this approach seems promising in the context of our railway game.</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">A functional programming approach proved to be most</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">adequate during the development of the synthesis tool. The program design, expressed using F<span class="s6">#</span><a href="#bookmark71" class="s16">’s type system, is very close to the mathematical definition of the railway-network model [</a>17]. This has obvious benefits concerning the vali- dation of correctness and the development time. The same applies to the game design, implementation, and construction parts.</p><p style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">Concerning efficiency, the experimental results show that it is the exponential growth of the size of the game graph that is the bottleneck – not the chosen data types nor the algorithms.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Imperative data structure were used to represent the game. In that way a more succinct representation could be obtained that also resulted also in more efficient implementations of the key algorithms.</p><p class="s4" style="padding-top: 10pt;padding-left: 14pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark49">ACKNOWLEDGMENTS</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Work of the second author was partially supported by the Danish Research Foundation for Basic Research within the IDEA4CPS project. We greatly appreciate suggestions from and discussions with Alessandro Fantechi and Anne Hax- thausen. Furthermore, Alessandro provided the Florence- Station example.</p><ol id="l15"><li data-list-text="A"><p class="s4" style="padding-top: 9pt;padding-left: 33pt;text-indent: -19pt;line-height: 12pt;text-align: left;"><a name="bookmark50">GAME SOLVING</a><a name="bookmark51">&zwnj;</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark13" class="s16">Below, we list the source code that implements Algorithm 1. In contrast to Algorithm </a>1, the function <span class="s33">solveReachability </span>takes as input a <span class="s7">reverse </span>game graph with information on the number of successors to each vertex:</p><p class="s76" style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1 <span class="s35">let </span><span class="s36">color (_, c, _) = c</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2 <span class="s35">let </span><span class="s36">owner (_, _, plr) = plr</span></p><p class="s76" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">3</p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4 <span class="s77">//val solveReachability :</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">5 </span>//  GameGraph&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt; -&gt; <i>&#39;</i>color -&gt;</p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">6 </span>// Winners&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt; * Strategy&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;</p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7 <span class="s35">let </span><span class="s36">solveReachability</span></p><p class="s36" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">8     </span>(graph : GameGraph&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;) target =</p><p class="s76" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">9</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10   <span class="s35">let </span><span class="s36">numPos = graph.Count</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">11   </span><span style=" color: #2121FF;">let </span>win : Dictionary&lt;Vertex&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;, Player&gt; =</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">12     <span class="s36">Dictionary (numPos)</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s76">13   </span><span style=" color: #2121FF;">let </span>strategy : Dictionary&lt;Vertex&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;,</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">14                   </span>Vertex&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;&gt; =</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">15     <span class="s36">Dictionary (numPos)</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">16</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">17   <span class="s77">// Initialization</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">18   <span class="s35">let </span><span class="s36">queue = Queue ()</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">19   </span>for <span style=" color: #000;">KeyValue (v, _) </span>in <span style=" color: #000;">graph </span>do</p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">20     </span>if <span style=" color: #000;">color v = target </span>then</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">21       <span class="s36">win.[v] &lt;- Eve</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">22       <span class="s36">queue.Enqueue v</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">23     <span class="s35">else</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">24       <span class="s36">win.[v] &lt;- Adam</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">25</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">26   <span class="s77">// Breadth first search</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">27   </span>while <span style=" color: #000;">queue.Count &gt; 0 </span>do</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">28     <span class="s35">let </span><span class="s36">v = queue.Dequeue ()</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">29     </span>for <span style=" color: #000;">p </span>in <span style=" color: #000;">snd graph.[v] </span>do</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">30       <span class="s35">let </span><span class="s36">(n, pred) = graph.[p]</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">31       <span class="s36">graph.[p] &lt;- (n - 1, pred)</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">32       <span class="s35">if </span><span class="s36">win.[p] = Adam &amp;&amp; (owner p = Eve</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">33                       <span class="s36">|| fst graph.[p] = 0)</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">34        <span class="s35">then</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">35          <span class="s36">win.[p] &lt;- Eve</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">36          <span class="s36">strategy.[p] &lt;- v</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">37          <span class="s36">queue.Enqueue p</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">38</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">39   <span class="s77">// Post-processing of the computed strategy</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">40   </span><span style=" color: #2121FF;">let </span>strategy<i>&#39; </i>=</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">41     </span>Seq.filter (<span style=" color: #2121FF;">fun </span>(KeyValue (u, v)) -&gt;</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">42                <span class="s36">owner u = Eve)</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">43            <span class="s36">strategy</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">44   </span><span style=" color: #2121FF;">let </span>strategy<i>&#39;&#39; </i>=</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">45     </span>Seq.map (<span style=" color: #2121FF;">fun </span>(KeyValue (u, v)) -&gt; (u, v))</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">46          <span class="s36">strategy</span><span class="s37">&#39;</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">47   </span>(win, strategy<i>&#39;&#39;</i>)</p></li><li data-list-text="B"><p class="s4" style="padding-top: 11pt;padding-left: 33pt;text-indent: -18pt;line-height: 12pt;text-align: justify;"><a name="bookmark52">GAME GRAPH GENERATION</a></p></li></ol><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Below, we list the source code of the function <span class="s33">graph</span>, which explicitly generates a <span class="s7">reverse </span>game graph. This graph carries information on the number of successors to each vertex:</p><p class="s76" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1 <span class="s77">//val graph :</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2 <span class="s77">//  GameVariant -&gt; Network -&gt;</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3 <span class="s77">// (Games.GameGraph&lt;State,Color&gt;</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4 <span class="s77">//  * Games.Vertex&lt;State,Color&gt;)</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5 <span class="s35">let </span><span class="s36">graph gameVariant (network : Network) =</span></p><p class="s76" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">6</p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7   <span class="s35">let </span><span class="s36">graph : Games.GameGraph&lt;State,Color&gt; =</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8     <span class="s36">Dictionary ()</span></p><p class="s76" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: left;">9   <span class="s35">let </span><span class="s36">frontier :</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10       <span class="s36">HashSet&lt;Games.Vertex&lt;State,Color&gt;&gt; =</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">11     <span class="s36">HashSet ()</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">12</p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">13   <span class="s77">// Graph-generation helper functions</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">14   <span class="s35">let </span><span class="s36">isNew v = not (graph.ContainsKey v)</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">15   <span class="s35">let </span><span class="s36">addVertex v = graph.[v] &lt;- (0, List ())</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">16   </span><span style=" color: #2121FF;">let </span>addEdge from<i>&#39; </i>to<i>&#39; </i>=</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">17     </span>(snd graph.[to<i>&#39;</i>]).Add from<i>&#39; </i>|&gt; ignore</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">18   <span class="s35">let </span><span class="s36">setNumSuccessors v num plr =</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">19     </span>match <span style=" color: #000;">plr </span>with</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">20     <span class="s36">| Games.Player.Adam -&gt;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">21       <span class="s36">countAdamMoves (int64 num)</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">22     <span class="s36">| Games.Player.Eve -&gt;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">23       <span class="s36">countEveMoves (int64 num)</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">24     <span class="s35">let </span><span class="s36">(_, pred) = graph.[v]</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">25     <span class="s36">graph.[v] &lt;- (num, pred)</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">26</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">27   <span class="s77">// Compute the directions of the trains</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">28   <span class="s35">let </span><span class="s36">dir = directions network</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">29</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">30   <span class="s77">// Graph-generation loop</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">31   <span class="s35">let rec </span><span class="s36">graphAux () =</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">32     </span>if <span style=" color: #000;">frontier.Count = 0 </span>then <span style=" color: #000;">()</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">33     <span class="s35">else</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">34       <span class="s35">let </span><span class="s36">v = takeOne frontier</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">35       <span class="s35">let mutable </span><span class="s36">succs = null</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">36        </span>match <span style=" color: #000;">v </span>with</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">37       <span class="s36">| (_, _, Games.Player.Eve) -&gt;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">38         <span class="s36">succs &lt;- succEve gameVariant</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">39                      <span class="s36">network dir v</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">40         <span class="s36">setNumSuccessors v succs.Count</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">41                     <span class="s36">Games.Player.Eve</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">42       <span class="s36">| (_, _, Games.Player.Adam) -&gt;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">43         <span class="s36">succs &lt;- succAdam gameVariant</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">44                       <span class="s36">network dir v</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">45         <span class="s36">setNumSuccessors v succs.Count</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">46                     <span class="s36">Games.Player.Adam</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s76">47       </span>for <span style=" color: #000;">v</span><span class="s37">&#39; </span>in <span style=" color: #000;">succs </span>do</p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">48          </span>if <span style=" color: #000;">isNew v</span><span class="s37">&#39; </span>then</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">49            </span>frontier.Add v<i>&#39; </i>|&gt; ignore</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">50             <span class="s36">addVertex v</span><span class="s37">&#39;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">51          <span class="s36">addEdge v v</span><span class="s37">&#39;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">52       <span class="s36">graphAux ()</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">53</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">54   <span class="s77">// Initialize the search</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">55   <span class="s35">let </span><span class="s36">initialVertex = initialVertex network</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">56   </span>match <span style=" color: #000;">initialVertex </span>with</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">57   <span class="s36">| (_, Success, _) -&gt; addVertex initialVertex</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">58   <span class="s36">| (_, Crash, _) -&gt;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">59     <span class="s36">failwith (</span><span class="s79">&quot;the starting vertex &quot;</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s76">60           </span>+ <span style=" color: #7F0000;">&quot;contains a failure state&quot;</span>)</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">61   <span class="s36">| (_, Nothing, _) -&gt;</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">62     <span class="s36">addVertex initialVertex</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">63     <span class="s36">frontier.Add initialVertex |&gt; ignore</span></p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">64     <span class="s36">graphAux ()</span></p><p class="s76" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">65</p><p class="s76" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">66   <span class="s36">(graph, initialVertex)</span></p><p class="s4" style="padding-top: 11pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a name="bookmark53">REFERENCES</a><a name="bookmark54">&zwnj;</a><a name="bookmark55">&zwnj;</a></p><ol id="l16"><li data-list-text="[1]"><p class="s10" style="padding-top: 1pt;padding-left: 32pt;text-indent: -13pt;text-align: left;"><a href="http://uk.bane.dk/db/filarkiv/5636/Updated%20UK%20Brochure%20090317_BDK_Signalprogrammet_UKbrochure_%20www.pdf" class="a" target="_blank" name="bookmark56">Banedanmark. 2009. The Signalling Programme, A total renewal of the Danish signalling infrastructure.  http://uk.bane.dk/ db/filarkiv/5636/Updated%20UK%20Brochure%20090317_ </a>BDK_Signalprogrammet_UKbrochure_%20www.pdf  ISBN: 978-87-90682-04-0.</p></li><li data-list-text="[2]"><p class="s10" style="padding-left: 32pt;text-indent: -13pt;text-align: justify;"><a name="bookmark57">Dietmar Berwanger. 2013. Graph Games with Perfect Informa- tion. (2013). Course notes, Master Parisien de Recherche en Informatique.</a></p></li><li data-list-text="[3]"><p class="s10" style="padding-left: 31pt;text-indent: -13pt;text-align: justify;"><a name="bookmark58">Roderick  Bloem,  Krishnendu  Chatterjee,  Karin  Greimel, Thomas A. Henzinger, Georg Hofferek, Barbara Jobstmann, Bettina Könighofer, and Robert Könighofer. 2014. Synthesiz- ing robust systems.  </a><i>Acta Inf. </i>51, 3-4 (2014), 193–220.  <a href="https://doi.org/10.1007/s00236-013-0191-5" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1007/s00236-013-0191-5" target="_blank">https://doi.org/10.1007/s00236-013-0191-5</a></p></li><li data-list-text="[4]"><p class="s10" style="padding-left: 31pt;text-indent: -12pt;text-align: justify;"><a name="bookmark59">Roderick Bloem, Barbara Jobstmann, Nir Piterman, Amir Pnueli, and Yaniv Sa’ar. 2012. Synthesis of Reactive(1) designs. </a><i>J. Comput. Syst. Sci. </i>78, 3 (2012), 911–938.</p></li><li data-list-text="[5]"><p class="s10" style="padding-left: 31pt;text-indent: -13pt;text-align: justify;"><a name="bookmark60">F Cassez, A David, E Fleury, KG Larsen, and D Lime. 2005. Efficient on-the-fly algorithms for the analysis of timed games. </a><i>Lecture Notes in Computer Science </i>3653 (2005), 66–80. <a href="https://doi.org/10.1007/11539452_9" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1007/11539452_9" target="_blank">https://doi.org/10.1007/11539452_9</a></p></li><li data-list-text="[6]"><p style="padding-left: 31pt;text-indent: -13pt;text-align: justify;"><a href="https://msdn.microsoft.com/en-us/library/xfhwa508(v%3Dvs.110).aspx" class="a" target="_blank" name="bookmark61">CDictionary 2016.  Dictionary(TKey, TValue) Class (Sys- tem.Collections.Generic).  (2016).  Retrieved May 28, 2016 from https://msdn.microsoft.com/en-us/library/xfhwa508(v=vs. </a><a href="https://msdn.microsoft.com/en-us/library/xfhwa508(v%3Dvs.110).aspx" target="_blank">110).aspx</a></p></li><li data-list-text="[7]"><p class="s10" style="padding-left: 32pt;text-indent: -13pt;line-height: 8pt;text-align: justify;">CHashSet 2016. HashSet(T) Class (System.Collections.Generic).</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://msdn.microsoft.com/en-us/library/bb359438(v%3Dvs.110).aspx" class="a" target="_blank" name="bookmark62">(2016). Retrieved May 28, 2016 from https://msdn.microsoft. </a><a href="https://msdn.microsoft.com/en-us/library/bb359438(v%3Dvs.110).aspx" target="_blank">com/en-us/library/bb359438(v=vs.110).aspx</a></p></li><li data-list-text="[8]"><p class="s10" style="padding-left: 32pt;text-indent: -13pt;line-height: 8pt;text-align: justify;">CList 2016. List(T) Class (System.Collections.Generic). (2016).</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://msdn.microsoft.com/en-us/library/6sh2ey19(v%3Dvs.110).aspx" class="a" target="_blank" name="bookmark63">Retrieved June 3, 2016 from https://msdn.microsoft.com/en-us/ </a><a href="https://msdn.microsoft.com/en-us/library/6sh2ey19(v%3Dvs.110).aspx" target="_blank">library/6sh2ey19(v=vs.110).aspx</a></p></li><li data-list-text="[9]"><p class="s10" style="padding-left: 31pt;text-indent: -12pt;text-align: justify;"><a name="bookmark64">Alexandre David, Huixing Fang, Kim Guldstrand Larsen, and Zhengkui Zhang. 2014. Verification and performance evaluation of timed game strategies. </a><i>Lecture Notes in Computer Science (including Subseries Lecture Notes in Artificial Intelligence and Lecture Notes in Bioinformatics) </i>8711 (2014), 100–114.  <a href="https://doi.org/10.1007/978-3-319-10512-3_8" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1007/978-3-319-10512-3_8" target="_blank">https://doi.org/10.1007/978-3-319-10512-3_8</a></p></li><li data-list-text="[10]"><p style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a href="http://www.ertms.net/" class="a" target="_blank" name="bookmark65">ERTMS 2016. The European Rail Traffic Management System. (2016). Retrieved May 18, 2016 from </a><a href="http://www.ertms.net/" target="_blank">http://www.ertms.net/</a></p></li><li data-list-text="[11]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;line-height: 8pt;text-align: justify;">FParsec 2016. FParsec Documentation. (2016). Retrieved May</p><p style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: justify;"><a href="http://www.quanttec.com/fparsec/" class="a" target="_blank" name="bookmark66">27, 2016 from </a><a href="http://www.quanttec.com/fparsec/" target="_blank">http://www.quanttec.com/fparsec/</a></p></li><li data-list-text="[12]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;"><a name="bookmark67">Oliver Friedmann and Martin Lange. 2009. Solving Parity Games in Practice. </a><i>Lecture Notes in Computer Science </i>5799 (2009), 182–196. <a href="https://doi.org/10.1007/978-3-642-04761-9_15" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1007/978-3-642-04761-9_15" target="_blank">https://doi.org/10.1007/978-3-642-04761-9_15</a></p></li><li data-list-text="[13]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;line-height: 7pt;text-align: justify;">FSet 2016. Collections.Set&lt;’T&gt; Class (F<span class="s67">#</span>). (2016). Retrieved</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://msdn.microsoft.com/visualfsharpdocs/conceptual/collections.set%5b%27t%5d-class-%5bfsharp%5d" class="a" target="_blank" name="bookmark68">June 4, 2016 from https://msdn.microsoft.com/visualfsharpdocs/ </a><a href="https://msdn.microsoft.com/visualfsharpdocs/conceptual/collections.set%5b%27t%5d-class-%5bfsharp%5d" target="_blank">conceptual/collections.set%5b%27t%5d-class-%5bfsharp%5d</a></p></li><li data-list-text="[14]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a name="bookmark69">Erich Grädel, Wolfgang Thomas, and Thomas Wilke (Eds.). 2002. </a><i>Automata, Logics, and Infinite Games: A Guide to Current Re- search</i>. Lecture Notes in Computer Science, Vol. 2500. Springer.</p></li><li data-list-text="[15]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;line-height: 90%;text-align: justify;"><a name="bookmark70">Michael R. Hansen and Hans Rischel. 2013. </a><i>Functional Program- ming using F</i><span class="s67">#</span>. Cambridge University Press, Shaftesbury Rd, Cambridge CB2 8RU, UK.</p></li><li data-list-text="[16]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a name="bookmark71">Gijs Kant and Jaco Van De Pol. 2014. Generating and solving symbolic parity games. </a><i>Electronic Proceedings in Theoretical Computer Science </i>159 (2014), 2–14. <a href="https://doi.org/10.4204/EPTCS.159.2" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.4204/EPTCS.159.2" class="a" target="_blank">https://doi.org/10.4204/ </a><a href="https://doi.org/10.4204/EPTCS.159.2" target="_blank">EPTCS.159.2</a></p></li><li data-list-text="[17]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a name="bookmark72">Patrick Kasting. 2016. </a><i>Synthesis of Railway Signaling Plans using Reachability Games</i>. BSc thesis. Technical University of Denmark.</p></li><li data-list-text="[18]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;text-align: justify;"><a name="bookmark73">Hadas Kress-Gazit, Georgios E. Fainekos, and George J. Pap- pas. 2009. Temporal-Logic-Based Reactive Mission and Motion Planning. </a><i>IEEE Trans. Robotics </i>25, 6 (2009), 1370–1381. <a href="https://doi.org/10.1109/TRO.2009.2030225" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1109/TRO.2009.2030225" target="_blank">https://doi.org/10.1109/TRO.2009.2030225</a></p></li><li data-list-text="[19]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;"><a name="bookmark74">Christof Löding. 2011. Infinite games and automata theory. In </a><i>Lectures in Game Theory for Computer Scientists</i>. Cambridge University Press, Shaftesbury Rd, Cambridge CB2 8RU, UK, 38–73. <a href="https://doi.org/10.1017/CBO9780511973468.003" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1017/CBO9780511973468.003" target="_blank">https://doi.org/10.1017/CBO9780511973468.003</a></p></li><li data-list-text="[20]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;line-height: 7pt;text-align: justify;">OFC 2016. The Open Edition of the F<span class="s67"># </span>compiler, core library</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://github.com/fsharp/fsharp" class="a" target="_blank" name="bookmark75">and tools. (2016). Retrieved May 31, 2016 from https://github. </a><a href="https://github.com/fsharp/fsharp" target="_blank">com/fsharp/fsharp</a></p></li><li data-list-text="[21]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;">Amir Pnueli and Roni Rosner. 1989. On the Synthesis of a Reac- tive Module. In <i>Conference Record of the Sixteenth Annual Acm Symposium on Principles of Programming Languages</i>. Associa- tion for Computing Machinery, 271 Chemin de Saint-Julien, 06140 Biot, France, 179–190. <a href="https://doi.org/10.1145/75277.75293" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1145/75277.75293" target="_blank">https://doi.org/10.1145/75277.75293</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="[22]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;text-align: justify;"><a name="bookmark76">Amir Pnueli and Roni Rosner. 1989. On the Synthesis of an Asyn- chronous Reactive Module. </a><i>Lecture Notes in Computer Science </i>372 (1989), 652–671. <a href="https://doi.org/10.1007/BFb0035790" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1007/BFb0035790" target="_blank">https://doi.org/10.1007/BFb0035790</a><a name="bookmark77">&zwnj;</a></p></li><li data-list-text="[23]"><p class="s11" style="padding-left: 31pt;text-indent: -17pt;line-height: 90%;text-align: justify;"><a name="bookmark78"><span class="s10">Don Syme, Adam Granicz, and Antonio Cisternino. 2015. </span></a>Expert F<span class="s67"># </span>4.0<span class="s10">. Apress Media, 233 Spring Street, 6th Floor, New York, NY 1001, US.</span></p></li><li data-list-text="[24]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;">Linh Hong Vu. 2015. <i>Formal Development and Verification of Railway Control Systems - In the context of ERTMS/ETCS Level 2</i>. Ph.D. Dissertation. Technical University of Denmark.</p></li></ol></body></html>
